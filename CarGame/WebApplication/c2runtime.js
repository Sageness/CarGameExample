// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,E,ba,J,ca,da,fa,N,ja,ka,P,la,oa,pa,Q,qa,sa,R,ta,ua,va,ya,za,Aa,Ba,S,Ca,Da,T,Ea,Fa,Ga,Ha,Ia,U,Ja,Ka,La,Ma,Na,Oa,Pa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,V,Lb,Mb,Nb,W,Ob,Pb={},Qb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(m){return m.__proto__}:function(m){return m.constructor.prototype});
(function(){function m(d,a,r,c){this.set(d,a,r,c)}function h(){this.jb=this.ib=this.lb=this.kb=this.qb=this.pb=this.Da=this.Ca=0}function b(d,a,r,c){d<a?r<c?(w=d<r?d:r,z=a>c?a:c):(w=d<c?d:c,z=a>r?a:r):r<c?(w=a<r?a:r,z=d>c?d:c):(w=a<c?a:c,z=d>r?d:r)}function e(){this.items=this.n=null;this.ke=0;r&&(this.n=new Set);this.Fe=[];this.Qc=!0}function u(d){t[x++]=d}function c(){this.Ba=this.Zg=this.y=this.qh=0}function s(d){this.ma=[];this.Of=this.Qf=this.Rf=this.Pf=0;this.Bf(d)}function n(d,a){this.th=d;
this.sh=a;this.cells={}}function p(d,a){this.th=d;this.sh=a;this.cells={}}function g(d,a,r){var c;return ga.length?(c=ga.pop(),c.Vh=d,c.x=a,c.y=r,c):new aa(d,a,r)}function a(d,a,r){this.Vh=d;this.x=a;this.y=r;this.ra=new E}function k(d,a,r){var c;return K.length?(c=K.pop(),c.Vh=d,c.x=a,c.y=r,c):new ba(d,a,r)}function q(d,a,r){this.Vh=d;this.x=a;this.y=r;this.ra=[];this.je=!0;this.gc=new E;this.Je=!1}function f(d,a){return d.Vb-a.Vb}J=function(d){window.console&&window.console.log&&window.console.log(d)};
ca=function(d){window.console&&window.console.error&&window.console.error(d)};da=function(d){return"undefined"===typeof d};fa=function(d){return"number"===typeof d};N=function(d){return"string"===typeof d};ja=function(d){return 0<d&&0===(d-1&d)};ka=function(d){--d;for(var a=1;32>a;a<<=1)d|=d>>a;return d+1};P=function(d){return 0>d?-d:d};la=function(d,a){return d>a?d:a};oa=function(d,a){return d<a?d:a};pa=Math.PI;Q=function(d){return 0<=d?d|0:(d|0)-1};qa=function(d){var a=d|0;return a===d?a:a+1};sa=
function(d,a,r,c,k,t,l,f){var b,s,x,q;d<r?(s=d,b=r):(s=r,b=d);k<l?(q=k,x=l):(q=l,x=k);if(b<q||s>x)return!1;a<c?(s=a,b=c):(s=c,b=a);t<f?(q=t,x=f):(q=f,x=t);if(b<q||s>x)return!1;b=k-d+l-r;s=t-a+f-c;d=r-d;a=c-a;k=l-k;t=f-t;f=P(a*k-t*d);return P(k*s-t*b)>f?!1:P(d*s-a*b)<=f};m.prototype.set=function(d,a,r,c){this.left=d;this.top=a;this.right=r;this.bottom=c};m.prototype.Wf=function(d){this.left=d.left;this.top=d.top;this.right=d.right;this.bottom=d.bottom};m.prototype.width=function(){return this.right-
this.left};m.prototype.height=function(){return this.bottom-this.top};m.prototype.offset=function(d,a){this.left+=d;this.top+=a;this.right+=d;this.bottom+=a;return this};m.prototype.normalize=function(){var d=0;this.left>this.right&&(d=this.left,this.left=this.right,this.right=d);this.top>this.bottom&&(d=this.top,this.top=this.bottom,this.bottom=d)};m.prototype.qo=function(d){return!(d.right<this.left||d.bottom<this.top||d.left>this.right||d.top>this.bottom)};m.prototype.ro=function(d,a,r){return!(d.right+
a<this.left||d.bottom+r<this.top||d.left+a>this.right||d.top+r>this.bottom)};m.prototype.Va=function(d,a){return d>=this.left&&d<=this.right&&a>=this.top&&a<=this.bottom};m.prototype.cg=function(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom};R=m;h.prototype.Af=function(d){this.Ca=d.left;this.Da=d.top;this.pb=d.right;this.qb=d.top;this.kb=d.right;this.lb=d.bottom;this.ib=d.left;this.jb=d.bottom};h.prototype.wl=function(d,a){if(0===a)this.Af(d);else{var r=
Math.sin(a),c=Math.cos(a),k=d.left*r,t=d.top*r,f=d.right*r,r=d.bottom*r,b=d.left*c,l=d.top*c,s=d.right*c,c=d.bottom*c;this.Ca=b-t;this.Da=l+k;this.pb=s-t;this.qb=l+f;this.kb=s-r;this.lb=c+f;this.ib=b-r;this.jb=c+k}};h.prototype.offset=function(d,a){this.Ca+=d;this.Da+=a;this.pb+=d;this.qb+=a;this.kb+=d;this.lb+=a;this.ib+=d;this.jb+=a;return this};var w=0,z=0;h.prototype.wj=function(d){b(this.Ca,this.pb,this.kb,this.ib);d.left=w;d.right=z;b(this.Da,this.qb,this.lb,this.jb);d.top=w;d.bottom=z};h.prototype.Va=
function(d,a){var r=this.pb-this.Ca,c=this.qb-this.Da,k=this.kb-this.Ca,t=this.lb-this.Da,f=d-this.Ca,b=a-this.Da,l=r*r+c*c,s=r*k+c*t,c=r*f+c*b,x=k*k+t*t,q=k*f+t*b,p=1/(l*x-s*s),r=(x*c-s*q)*p,l=(l*q-s*c)*p;if(0<=r&&0<l&&1>r+l)return!0;r=this.ib-this.Ca;c=this.jb-this.Da;l=r*r+c*c;s=r*k+c*t;c=r*f+c*b;p=1/(l*x-s*s);r=(x*c-s*q)*p;l=(l*q-s*c)*p;return 0<=r&&0<l&&1>r+l};h.prototype.Nc=function(d,a){if(a)switch(d){case 0:return this.Ca;case 1:return this.pb;case 2:return this.kb;case 3:return this.ib;case 4:return this.Ca;
default:return this.Ca}else switch(d){case 0:return this.Da;case 1:return this.qb;case 2:return this.lb;case 3:return this.jb;case 4:return this.Da;default:return this.Da}};h.prototype.Qk=function(){return(this.Ca+this.pb+this.kb+this.ib)/4};h.prototype.Rk=function(){return(this.Da+this.qb+this.lb+this.jb)/4};h.prototype.gk=function(d){var a=d.Qk(),r=d.Rk();if(this.Va(a,r))return!0;a=this.Qk();r=this.Rk();if(d.Va(a,r))return!0;var c,k,t,l,f,b,s,x;for(s=0;4>s;s++)for(x=0;4>x;x++)if(a=this.Nc(s,!0),
r=this.Nc(s,!1),c=this.Nc(s+1,!0),k=this.Nc(s+1,!1),t=d.Nc(x,!0),l=d.Nc(x,!1),f=d.Nc(x+1,!0),b=d.Nc(x+1,!1),sa(a,r,c,k,t,l,f,b))return!0;return!1};ta=h;ua=function(d,a){for(var r in a)a.hasOwnProperty(r)&&(d[r]=a[r]);return d};va=function(d,a){var r,c;a=Q(a);if(!(0>a||a>=d.length)){r=a;for(c=d.length-1;r<c;r++)d[r]=d[r+1];d.length=c}};ya=function(d,a){d.length=a.length;var r,c;r=0;for(c=a.length;r<c;r++)d[r]=a[r]};za=function(d,a){d.push.apply(d,a)};Aa=function(d,a){var r,c;r=0;for(c=d.length;r<c;++r)if(d[r]===
a)return r;return-1};Ba=function(d,a){var r=Aa(d,a);-1!==r&&va(d,r)};S=function(d){return d/(180/pa)};Ca=function(d){return 180/pa*d};Da=function(d){d%=360;0>d&&(d+=360);return d};T=function(d){d%=2*pa;0>d&&(d+=2*pa);return d};Ea=function(d){return Da(Ca(d))};Fa=function(d){return T(S(d))};Ga=function(d,a,r,c){return Math.atan2(c-a,r-d)};Ha=function(d,a){if(d===a)return 0;var r=Math.sin(d),c=Math.cos(d),k=Math.sin(a),t=Math.cos(a),r=r*k+c*t;return 1<=r?0:-1>=r?pa:Math.acos(r)};Ia=function(d,a,r){var c=
Math.sin(d),k=Math.cos(d),t=Math.sin(a),l=Math.cos(a);return Math.acos(c*t+k*l)>r?0<k*t-c*l?T(d+r):T(d-r):T(a)};U=function(d,a){var r=Math.sin(d),c=Math.cos(d),k=Math.sin(a),t=Math.cos(a);return 0>=c*k-r*t};Ja=function(d,a,r,c){d=r-d;a=c-a;return Math.sqrt(d*d+a*a)};Ka=function(d,a){return!d!==!a};La=function(d){for(var a in d)if(d.hasOwnProperty(a))return!0;return!1};Ma=function(d){for(var a in d)d.hasOwnProperty(a)&&delete d[a]};var l=+new Date;Na=function(){if("undefined"!==typeof window.performance){var d=
window.performance;if("undefined"!==typeof d.now)return d.now();if("undefined"!==typeof d.webkitNow)return d.webkitNow();if("undefined"!==typeof d.mozNow)return d.mozNow();if("undefined"!==typeof d.msNow)return d.msNow()}return Date.now()-l};var v=!1,ra=v=!1,d=!1;"undefined"!==typeof window&&(v=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),v=!v&&/safari/i.test(navigator.userAgent),ra=/(iphone|ipod|ipad)/i.test(navigator.userAgent),d=window.c2ejecta);var r=!v&&!d&&!ra&&
"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;e.prototype.contains=function(d){return this.xc()?!1:r?this.n.has(d):this.items&&this.items.hasOwnProperty(d)};e.prototype.add=function(d){if(r)this.n.has(d)||(this.n.add(d),this.Qc=!1);else{var a=d.toString(),c=this.items;c?c.hasOwnProperty(a)||(c[a]=d,this.ke++,this.Qc=!1):(this.items={},this.items[a]=d,this.ke=1,this.Qc=!1)}};e.prototype.remove=function(d){if(!this.xc())if(r)this.n.has(d)&&(this.n["delete"](d),this.Qc=!1);else if(this.items){d=
d.toString();var a=this.items;a.hasOwnProperty(d)&&(delete a[d],this.ke--,this.Qc=!1)}};e.prototype.clear=function(){this.xc()||(r?this.n.clear():(this.items=null,this.ke=0),this.Fe.length=0,this.Qc=!0)};e.prototype.xc=function(){return 0===this.count()};e.prototype.count=function(){return r?this.n.size:this.ke};var t=null,x=0;e.prototype.tp=function(){if(!this.Qc){if(r)this.Fe.length=this.n.size,t=this.Fe,x=0,this.n.forEach(u),t=null,x=0;else{var d=this.Fe;d.length=this.ke;var a,c=0,k=this.items;
if(k)for(a in k)k.hasOwnProperty(a)&&(d[c++]=k[a])}this.Qc=!0}};e.prototype.Ic=function(){this.tp();return this.Fe};E=e;new E;Oa=function(d,a){r?Pa(d,a.n):Ra(d,a.Ic())};Pa=function(d,a){var r,c,k,t;c=r=0;for(k=d.length;r<k;++r)t=d[r],a.has(t)||(d[c++]=t);d.length=c};Ra=function(d,a){var r,c,k,t;c=r=0;for(k=d.length;r<k;++r)t=d[r],-1===Aa(a,t)&&(d[c++]=t);d.length=c};c.prototype.add=function(d){this.y=d-this.qh;this.Zg=this.Ba+this.y;this.qh=this.Zg-this.Ba-this.y;this.Ba=this.Zg};c.prototype.reset=
function(){this.Ba=this.Zg=this.y=this.qh=0};Sa=c;Ta=function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};s.prototype.Bf=function(d){this.jl=d;this.Qb=d.length/2;this.ma.length=d.length;this.Tf=this.Uf=-1;this.zj=0};s.prototype.he=function(){return!this.jl.length};s.prototype.ea=function(){for(var d=this.ma,a=d[0],r=a,c=d[1],k=c,t,l,f=1,b=this.Qb;f<b;++f)l=2*f,t=d[l],l=d[l+1],t<a&&(a=t),t>r&&(r=t),l<c&&(c=l),l>k&&(k=l);this.Pf=a;this.Qf=r;this.Rf=c;this.Of=k};s.prototype.Af=function(d,
a,r){this.ma.length=8;this.Qb=4;var c=this.ma;c[0]=d.left-a;c[1]=d.top-r;c[2]=d.right-a;c[3]=d.top-r;c[4]=d.right-a;c[5]=d.bottom-r;c[6]=d.left-a;c[7]=d.bottom-r;this.Uf=d.right-d.left;this.Tf=d.bottom-d.top;this.ea()};s.prototype.ze=function(d,a,r,c,k){this.ma.length=8;this.Qb=4;var t=this.ma;t[0]=d.Ca-a;t[1]=d.Da-r;t[2]=d.pb-a;t[3]=d.qb-r;t[4]=d.kb-a;t[5]=d.lb-r;t[6]=d.ib-a;t[7]=d.jb-r;this.Uf=c;this.Tf=k;this.ea()};s.prototype.ul=function(d){this.Qb=d.Qb;ya(this.ma,d.ma);this.Pf=d.Pf;this.Rf-d.Rf;
this.Qf=d.Qf;this.Of=d.Of};s.prototype.Yd=function(d,a,r){if(this.Uf!==d||this.Tf!==a||this.zj!==r){this.Uf=d;this.Tf=a;this.zj=r;var c,t,k,l,f,b=0,s=1,x=this.jl,q=this.ma;0!==r&&(b=Math.sin(r),s=Math.cos(r));r=0;for(k=this.Qb;r<k;r++)c=2*r,t=c+1,l=x[c]*d,f=x[t]*a,q[c]=l*s-f*b,q[t]=f*s+l*b;this.ea()}};s.prototype.Va=function(d,a){var r=this.ma;if(d===r[0]&&a===r[1])return!0;var c,t,k,l=this.Qb,f=this.Pf-110,b=this.Rf-101,s=this.Qf+131,x=this.Of+120,q,p,y=0,g=0;for(c=0;c<l;c++)t=2*c,k=(c+1)%l*2,q=
r[t],t=r[t+1],p=r[k],k=r[k+1],sa(f,b,d,a,q,t,p,k)&&y++,sa(s,x,d,a,q,t,p,k)&&g++;return 1===y%2||1===g%2};s.prototype.df=function(d,a,r){var c=d.ma,t=this.ma;if(this.Va(c[0]+a,c[1]+r)||d.Va(t[0]-a,t[1]-r))return!0;var k,l,f,b,s,x,q,p,y,g,v,n;k=0;for(b=this.Qb;k<b;k++)for(l=2*k,f=(k+1)%b*2,p=t[l],l=t[l+1],y=t[f],g=t[f+1],f=0,q=d.Qb;f<q;f++)if(s=2*f,x=(f+1)%q*2,v=c[s]+a,s=c[s+1]+r,n=c[x]+a,x=c[x+1]+r,sa(p,l,y,g,v,s,n,x))return!0;return!1};Ua=s;n.prototype.Vc=function(d,a,r){var c;c=this.cells[d];return c?
(c=c[a])?c:r?(c=g(this,d,a),this.cells[d][a]=c):null:r?(c=g(this,d,a),this.cells[d]={},this.cells[d][a]=c):null};n.prototype.eb=function(d){return Q(d/this.th)};n.prototype.fb=function(d){return Q(d/this.sh)};n.prototype.update=function(d,a,r){var c,t,k,l,f;if(a)for(c=a.left,t=a.right;c<=t;++c)for(k=a.top,l=a.bottom;k<=l;++k)if(!r||!r.Va(c,k))if(f=this.Vc(c,k,!1))f.remove(d),f.xc()&&(f.ra.clear(),1E3>ga.length&&ga.push(f),this.cells[c][k]=null);if(r)for(c=r.left,t=r.right;c<=t;++c)for(k=r.top,l=r.bottom;k<=
l;++k)a&&a.Va(c,k)||this.Vc(c,k,!0).ai(d)};n.prototype.Og=function(d,a){var r,c,k,t,l,f;r=this.eb(d.left);k=this.fb(d.top);c=this.eb(d.right);for(l=this.fb(d.bottom);r<=c;++r)for(t=k;t<=l;++t)(f=this.Vc(r,t,!1))&&f.dump(a)};Va=n;p.prototype.Vc=function(d,a,r){var c;c=this.cells[d];return c?(c=c[a])?c:r?(c=k(this,d,a),this.cells[d][a]=c):null:r?(c=k(this,d,a),this.cells[d]={},this.cells[d][a]=c):null};p.prototype.eb=function(d){return Q(d/this.th)};p.prototype.fb=function(d){return Q(d/this.sh)};p.prototype.update=
function(d,a,r){var c,t,k,l,f;if(a)for(c=a.left,t=a.right;c<=t;++c)for(k=a.top,l=a.bottom;k<=l;++k)if(!r||!r.Va(c,k))if(f=this.Vc(c,k,!1))f.remove(d),f.xc()&&(f.reset(),1E3>K.length&&K.push(f),this.cells[c][k]=null);if(r)for(c=r.left,t=r.right;c<=t;++c)for(k=r.top,l=r.bottom;k<=l;++k)a&&a.Va(c,k)||this.Vc(c,k,!0).ai(d)};p.prototype.Og=function(d,a,r,c,k){var t,l;d=this.eb(d);a=this.fb(a);r=this.eb(r);for(t=this.fb(c);d<=r;++d)for(c=a;c<=t;++c)(l=this.Vc(d,c,!1))&&l.dump(k)};p.prototype.Eo=function(d){var a,
r,c,k,t;a=d.left;c=d.top;r=d.right;for(k=d.bottom;a<=r;++a)for(d=c;d<=k;++d)if(t=this.Vc(a,d,!1))t.je=!1};Wa=p;var ga=[];a.prototype.xc=function(){return this.ra.xc()};a.prototype.ai=function(d){this.ra.add(d)};a.prototype.remove=function(d){this.ra.remove(d)};a.prototype.dump=function(d){za(d,this.ra.Ic())};aa=a;var K=[];q.prototype.xc=function(){if(!this.ra.length)return!0;if(this.ra.length>this.gc.count())return!1;this.Jh();return!0};q.prototype.ai=function(d){this.gc.contains(d)?(this.gc.remove(d),
this.gc.xc()&&(this.Je=!1)):this.ra.length?(this.ra[this.ra.length-1].ac()>d.ac()&&(this.je=!1),this.ra.push(d)):(this.ra.push(d),this.je=!0)};q.prototype.remove=function(d){this.gc.add(d);this.Je=!0;30<=this.gc.count()&&this.Jh()};q.prototype.Jh=function(){this.Je&&(this.gc.count()===this.ra.length?this.reset():(Oa(this.ra,this.gc),this.gc.clear(),this.Je=!1))};q.prototype.$m=function(){this.je||(this.ra.sort(f),this.je=!0)};q.prototype.reset=function(){this.ra.length=0;this.je=!0;this.gc.clear();
this.Je=!1};q.prototype.dump=function(d){this.Jh();this.$m();this.ra.length&&d.push(this.ra)};ba=q;var y="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Xa=function(d){return 0>=d||11<=d?"source-over":y[d-1]};Ya=function(d,a,r){if(r)switch(d.Ia=r.ONE,d.Ga=r.ONE_MINUS_SRC_ALPHA,a){case 1:d.Ia=r.ONE;d.Ga=r.ONE;break;case 3:d.Ia=r.ONE;d.Ga=r.ZERO;break;case 4:d.Ia=r.ONE_MINUS_DST_ALPHA;d.Ga=r.ONE;break;case 5:d.Ia=r.DST_ALPHA;
d.Ga=r.ZERO;break;case 6:d.Ia=r.ZERO;d.Ga=r.SRC_ALPHA;break;case 7:d.Ia=r.ONE_MINUS_DST_ALPHA;d.Ga=r.ZERO;break;case 8:d.Ia=r.ZERO;d.Ga=r.ONE_MINUS_SRC_ALPHA;break;case 9:d.Ia=r.DST_ALPHA;d.Ga=r.ONE_MINUS_SRC_ALPHA;break;case 10:d.Ia=r.ONE_MINUS_DST_ALPHA,d.Ga=r.SRC_ALPHA}};Za=function(d){return Math.round(1E6*d)/1E6};$a=function(d,a){return"string"!==typeof d||"string"!==typeof a||d.length!==a.length?!1:d===a?!0:d.toLowerCase()===a.toLowerCase()};ab=function(d){d=d.target;return!d||d===document||
d===window||document&&document.body&&d===document.body||$a(d.tagName,"canvas")?!0:!1}})();var Rb="undefined"!==typeof Float32Array?Float32Array:Array;function Sb(m){var h=new Rb(3);m&&(h[0]=m[0],h[1]=m[1],h[2]=m[2]);return h}function X(m){var h=new Rb(16);m&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h}
function Tb(m,h){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15]}function Ub(m,h){var b=h[0],e=h[1];h=h[2];m[0]*=b;m[1]*=b;m[2]*=b;m[3]*=b;m[4]*=e;m[5]*=e;m[6]*=e;m[7]*=e;m[8]*=h;m[9]*=h;m[10]*=h;m[11]*=h}
function Vb(m,h,b,e){e||(e=X());var u,c,s,n,p,g,a,k,q=m[0],f=m[1];m=m[2];c=b[0];s=b[1];u=b[2];b=h[1];g=h[2];q===h[0]&&f===b&&m===g?(m=e,m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1):(b=q-h[0],g=f-h[1],a=m-h[2],k=1/Math.sqrt(b*b+g*g+a*a),b*=k,g*=k,a*=k,h=s*a-u*g,u=u*b-c*a,c=c*g-s*b,(k=Math.sqrt(h*h+u*u+c*c))?(k=1/k,h*=k,u*=k,c*=k):c=u=h=0,s=g*c-a*u,n=a*h-b*c,p=b*u-g*h,(k=Math.sqrt(s*s+n*n+p*p))?(k=1/k,s*=k,n*=k,p*=k):p=n=s=0,
e[0]=h,e[1]=s,e[2]=b,e[3]=0,e[4]=u,e[5]=n,e[6]=g,e[7]=0,e[8]=c,e[9]=p,e[10]=a,e[11]=0,e[12]=-(h*q+u*f+c*m),e[13]=-(s*q+n*f+p*m),e[14]=-(b*q+g*f+a*m),e[15]=1)}
(function(){function m(c){this.Ed=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Aj=Sb([0,0,100]);this.Ak=Sb([0,0,0]);this.Pl=Sb([0,1,0]);this.oj=Sb([1,1,1]);this.Jj=!0;this.qi=X();this.Ab=X();this.rk=X();this.Ah=X();this.e=c;this.ck()}function h(c,b,n){this.e=c;this.Cf=b;this.name=n;this.zb=c.getAttribLocation(b,"aPos");this.Zc=c.getAttribLocation(b,"aTex");this.yk=c.getUniformLocation(b,"matP");this.Eg=c.getUniformLocation(b,"matMV");this.oe=
c.getUniformLocation(b,"opacity");this.zk=c.getUniformLocation(b,"samplerFront");this.of=c.getUniformLocation(b,"samplerBack");this.Md=c.getUniformLocation(b,"destStart");this.Ld=c.getUniformLocation(b,"destEnd");this.oi=c.getUniformLocation(b,"seconds");this.ni=c.getUniformLocation(b,"pixelWidth");this.mi=c.getUniformLocation(b,"pixelHeight");this.nf=c.getUniformLocation(b,"layerScale");this.mf=c.getUniformLocation(b,"layerAngle");this.qf=c.getUniformLocation(b,"viewOrigin");this.pf=c.getUniformLocation(b,
"scrollPos");this.mo=!!(this.ni||this.mi||this.oi||this.of||this.Md||this.Ld||this.nf||this.mf||this.qf||this.pf);this.Ik=this.Jk=-999;this.Gg=1;this.Ek=this.Dk=0;this.Gk=this.Ck=this.Bk=1;this.Lk=this.Kk=this.Nk=this.Mk=this.Fk=0;this.ji=[];this.Hk=X();this.oe&&c.uniform1f(this.oe,1);this.zk&&c.uniform1i(this.zk,0);this.of&&c.uniform1i(this.of,1);this.Md&&c.uniform2f(this.Md,0,0);this.Ld&&c.uniform2f(this.Ld,1,1);this.nf&&c.uniform1f(this.nf,1);this.mf&&c.uniform1f(this.mf,0);this.qf&&c.uniform2f(this.qf,
0,0);this.pf&&c.uniform2f(this.pf,0,0);this.yd=!1}function b(c,b){this.type=c;this.p=b;this.e=b.e;this.cc=this.Db=this.al=0;this.M=this.Tb=null;this.xl=[]}m.prototype.ck=function(){var c=this.e,b;this.sk=1;this.Id=this.Hd=null;this.$f=1;c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.disable(c.CULL_FACE);c.disable(c.DEPTH_TEST);this.tk=c.ONE;this.qk=c.ONE_MINUS_SRC_ALPHA;this.yi=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.yi);this.Kf=
Array(4);this.Ff=Array(4);for(b=0;4>b;b++)this.Kf[b]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.Kf[b]),this.Ff[b]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.Ff[b]);this.qc=0;this.oo=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.oo);this.nj=new Float32Array(16E3);this.cj=new Float32Array(16E3);this.Oo=new Float32Array(32E3);for(var n=new Uint16Array(12E3),p=b=0;12E3>b;)n[b++]=p,n[b++]=p+1,n[b++]=p+2,n[b++]=p,n[b++]=p+2,n[b++]=p+3,p+=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,n,
c.STATIC_DRAW);this.Ai=this.lc=0;this.pa=[];b=this.zh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.pa.push(b);b=this.zh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.pa.push(b);for(var g in Wb)Wb.hasOwnProperty(g)&&this.pa.push(this.zh(Wb[g],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,null);this.Pc=[];this.oc=0;this.Xa=!1;this.Fj=this.hf=-1;this.Re=null;this.zn=c.createFramebuffer();this.ol=null;this.jd=Sb([0,0,0]);this.Ok=c.getParameter(c.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Ok&&
(this.Ok=2048);this.jc(0)};h.prototype.ij=function(c){var b=this.Hk;if(b[0]!==c[0]||b[1]!==c[1]||b[2]!==c[2]||b[3]!==c[3]||b[4]!==c[4]||b[5]!==c[5]||b[6]!==c[6]||b[7]!==c[7]||b[8]!==c[8]||b[9]!==c[9]||b[10]!==c[10]||b[11]!==c[11]||b[12]!==c[12]||b[13]!==c[13]||b[14]!==c[14]||b[15]!==c[15])Tb(c,this.Hk),this.e.uniformMatrix4fv(this.Eg,!1,c)};m.prototype.zh=function(c,b,n){var p=this.e,g=p.createShader(p.FRAGMENT_SHADER);p.shaderSource(g,c.src);p.compileShader(g);if(!p.getShaderParameter(g,p.COMPILE_STATUS))return p.deleteShader(g),
null;var a=p.createShader(p.VERTEX_SHADER);p.shaderSource(a,b);p.compileShader(a);if(!p.getShaderParameter(a,p.COMPILE_STATUS))return p.deleteShader(g),p.deleteShader(a),null;b=p.createProgram();p.attachShader(b,g);p.attachShader(b,a);p.linkProgram(b);if(!p.getProgramParameter(b,p.LINK_STATUS))return p.deleteShader(g),p.deleteShader(a),p.deleteProgram(b),null;p.useProgram(b);p.deleteShader(g);p.deleteShader(a);n=new h(p,b,n);n.Hh=c.Hh||0;n.Ih=c.Ih||0;n.Ej=!!c.Ej;n.tj=!!c.tj;n.A=c.A||[];c=0;for(g=
n.A.length;c<g;c++)n.A[c][1]=p.getUniformLocation(b,n.A[c][0]),n.ji.push(0),p.uniform1f(n.A[c][1],0);return n};m.prototype.Uh=function(c){var b,n;b=0;for(n=this.pa.length;b<n;b++)if(this.pa[b].name===c)return b;return-1};m.prototype.il=function(c,b,n){var p=this.Ab,g=this.qi,a=[0,0,0,0,0,0,0,0];a[0]=p[0]*c+p[4]*b+p[12];a[1]=p[1]*c+p[5]*b+p[13];a[2]=p[2]*c+p[6]*b+p[14];a[3]=p[3]*c+p[7]*b+p[15];a[4]=g[0]*a[0]+g[4]*a[1]+g[8]*a[2]+g[12]*a[3];a[5]=g[1]*a[0]+g[5]*a[1]+g[9]*a[2]+g[13]*a[3];a[6]=g[2]*a[0]+
g[6]*a[1]+g[10]*a[2]+g[14]*a[3];a[7]=-a[2];0!==a[7]&&(a[7]=1/a[7],a[4]*=a[7],a[5]*=a[7],a[6]*=a[7],n[0]=(.5*a[4]+.5)*this.width,n[1]=(.5*a[5]+.5)*this.height)};m.prototype.ye=function(c,b,n){if(this.width!==c||this.height!==b||n){this.vd();this.width=c;this.height=b;this.e.viewport(0,0,c,b);b=c/b;var p=this.qi,g;g=1*Math.tan(45*Math.PI/360);b*=g;c=-b;n=-g;p||(p=X());var a=b-c,k=g-n;p[0]=2/a;p[1]=0;p[2]=0;p[3]=0;p[4]=0;p[5]=2/k;p[6]=0;p[7]=0;p[8]=(b+c)/a;p[9]=(g+n)/k;p[10]=-1001/999;p[11]=-1;p[12]=
0;p[13]=0;p[14]=-2E3/999;p[15]=0;Vb(this.Aj,this.Ak,this.Pl,this.Ab);c=[0,0];b=[0,0];this.il(0,0,c);this.il(1,1,b);this.oj[0]=1/(b[0]-c[0]);this.oj[1]=-1/(b[1]-c[1]);c=0;for(b=this.pa.length;c<b;c++)n=this.pa[c],n.yd=!1,n.yk&&(this.e.useProgram(n.Cf),this.e.uniformMatrix4fv(n.yk,!1,this.qi));this.e.useProgram(this.pa[this.hf].Cf);this.e.bindTexture(this.e.TEXTURE_2D,null);this.e.activeTexture(this.e.TEXTURE1);this.e.bindTexture(this.e.TEXTURE_2D,null);this.e.activeTexture(this.e.TEXTURE0);this.Id=
this.Hd=null}};m.prototype.dd=function(){Vb(this.Aj,this.Ak,this.Pl,this.Ab);Ub(this.Ab,this.oj)};m.prototype.translate=function(c,b){if(0!==c||0!==b){this.jd[0]=c;this.jd[1]=b;this.jd[2]=0;var n=this.Ab,p=this.jd,g=p[0],a=p[1],p=p[2];n[12]=n[0]*g+n[4]*a+n[8]*p+n[12];n[13]=n[1]*g+n[5]*a+n[9]*p+n[13];n[14]=n[2]*g+n[6]*a+n[10]*p+n[14];n[15]=n[3]*g+n[7]*a+n[11]*p+n[15]}};m.prototype.scale=function(c,b){if(1!==c||1!==b)this.jd[0]=c,this.jd[1]=b,this.jd[2]=1,Ub(this.Ab,this.jd)};m.prototype.pl=function(c){if(0!==
c){var b=this.Ab,n,p=Math.sin(c);c=Math.cos(c);var g=b[0],a=b[1],k=b[2],q=b[3],f=b[4],w=b[5],e=b[6],l=b[7];n?b!==n&&(n[8]=b[8],n[9]=b[9],n[10]=b[10],n[11]=b[11],n[12]=b[12],n[13]=b[13],n[14]=b[14],n[15]=b[15]):n=b;n[0]=g*c+f*p;n[1]=a*c+w*p;n[2]=k*c+e*p;n[3]=q*c+l*p;n[4]=g*-p+f*c;n[5]=a*-p+w*c;n[6]=k*-p+e*c;n[7]=q*-p+l*c}};m.prototype.kd=function(){for(var c=!1,b=0;16>b;b++)if(this.rk[b]!==this.Ab[b]){c=!0;break}c&&(c=this.Rb(),c.type=5,c.M?Tb(this.Ab,c.M):c.M=X(this.Ab),Tb(this.Ab,this.rk),this.Xa=
!1)};b.prototype.Qm=function(){this.e.bindTexture(this.e.TEXTURE_2D,this.Tb)};b.prototype.Rm=function(){var c=this.e;c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,this.Tb);c.activeTexture(c.TEXTURE0)};b.prototype.Nm=function(){var c=this.al,b=this.p;b.$f=c;b=b.Re;b.oe&&b.Gg!==c&&(b.Gg=c,this.e.uniform1f(b.oe,c))};b.prototype.Km=function(){this.e.drawElements(this.e.TRIANGLES,this.cc,this.e.UNSIGNED_SHORT,2*this.Db)};b.prototype.Mm=function(){this.e.blendFunc(this.Db,this.cc)};b.prototype.Sm=
function(){var c,b,n,p=this.p.pa,g=this.p.Fj;c=0;for(b=p.length;c<b;c++)n=p[c],c===g&&n.Eg?(n.ij(this.M),n.yd=!0):n.yd=!1;Tb(this.M,this.p.Ah)};b.prototype.Lm=function(){var c=this.e,b=this.p;this.Tb?(b.Id===this.Tb&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,null),b.Id=null,c.activeTexture(c.TEXTURE0)),c.bindFramebuffer(c.FRAMEBUFFER,b.zn),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.Tb,0)):(c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,
null,0),c.bindFramebuffer(c.FRAMEBUFFER,null))};b.prototype.Im=function(){var c=this.e;0===this.Db?(c.clearColor(this.M[0],this.M[1],this.M[2],this.M[3]),c.clear(c.COLOR_BUFFER_BIT)):(c.enable(c.SCISSOR_TEST),c.scissor(this.M[0],this.M[1],this.M[2],this.M[3]),c.clearColor(0,0,0,0),c.clear(this.e.COLOR_BUFFER_BIT),c.disable(c.SCISSOR_TEST))};b.prototype.Jm=function(){var c=this.e,b=this.p,n=b.pa[1];c.useProgram(n.Cf);!n.yd&&n.Eg&&(n.ij(b.Ah),n.yd=!0);c.enableVertexAttribArray(n.zb);c.bindBuffer(c.ARRAY_BUFFER,
b.yi);c.vertexAttribPointer(n.zb,4,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,this.Db/4,this.cc);n=b.Re;c.useProgram(n.Cf);0<=n.zb&&(c.enableVertexAttribArray(n.zb),c.bindBuffer(c.ARRAY_BUFFER,b.Kf[b.qc]),c.vertexAttribPointer(n.zb,2,c.FLOAT,!1,0,0));0<=n.Zc&&(c.enableVertexAttribArray(n.Zc),c.bindBuffer(c.ARRAY_BUFFER,b.Ff[b.qc]),c.vertexAttribPointer(n.Zc,2,c.FLOAT,!1,0,0))};b.prototype.Om=function(){var c=this.e,b=this.p,n=b.pa[this.Db];b.Fj=this.Db;b.Re=n;c.useProgram(n.Cf);!n.yd&&n.Eg&&(n.ij(b.Ah),
n.yd=!0);n.oe&&n.Gg!==b.$f&&(n.Gg=b.$f,c.uniform1f(n.oe,b.$f));0<=n.zb&&(c.enableVertexAttribArray(n.zb),c.bindBuffer(c.ARRAY_BUFFER,b.Kf[b.qc]),c.vertexAttribPointer(n.zb,2,c.FLOAT,!1,0,0));0<=n.Zc&&(c.enableVertexAttribArray(n.Zc),c.bindBuffer(c.ARRAY_BUFFER,b.Ff[b.qc]),c.vertexAttribPointer(n.Zc,2,c.FLOAT,!1,0,0))};b.prototype.Pm=function(){var c,b,n=this.p.Re,p=this.e;c=this.M;n.of&&this.p.Id!==this.Tb&&(p.activeTexture(p.TEXTURE1),p.bindTexture(p.TEXTURE_2D,this.Tb),this.p.Id=this.Tb,p.activeTexture(p.TEXTURE0));
var g=c[0];n.ni&&g!==n.Jk&&(n.Jk=g,p.uniform1f(n.ni,g));g=c[1];n.mi&&g!==n.Ik&&(n.Ik=g,p.uniform1f(n.mi,g));g=c[2];b=c[3];!n.Md||g===n.Dk&&b===n.Ek||(n.Dk=g,n.Ek=b,p.uniform2f(n.Md,g,b));g=c[4];b=c[5];!n.Ld||g===n.Bk&&b===n.Ck||(n.Bk=g,n.Ck=g,p.uniform2f(n.Ld,g,b));g=c[6];n.nf&&g!==n.Gk&&(n.Gk=g,p.uniform1f(n.nf,g));g=c[7];n.mf&&g!==n.Fk&&(n.Fk=g,p.uniform1f(n.mf,g));g=c[8];b=c[9];!n.qf||g===n.Mk&&b===n.Nk||(n.Mk=g,n.Nk=b,p.uniform2f(n.qf,g,b));g=c[10];b=c[11];!n.pf||g===n.Kk&&b===n.Lk||(n.Kk=g,n.Lk=
b,p.uniform2f(n.pf,g,b));n.oi&&p.uniform1f(n.oi,Na()/1E3);if(n.A.length)for(c=0,b=n.A.length;c<b;c++)g=this.xl[c],g!==n.ji[c]&&(n.ji[c]=g,p.uniform1f(n.A[c][1],g))};m.prototype.Rb=function(){this.oc===this.Pc.length&&this.Pc.push(new b(0,this));return this.Pc[this.oc++]};m.prototype.vd=function(){if(0!==this.oc&&!this.e.isContextLost()){var c=this.e;0<this.Ai&&(c.bindBuffer(c.ARRAY_BUFFER,this.yi),c.bufferData(c.ARRAY_BUFFER,this.Oo.subarray(0,this.Ai),c.STREAM_DRAW),b&&0<=b.zb&&"<point>"===b.name&&
c.vertexAttribPointer(b.zb,4,c.FLOAT,!1,0,0));if(0<this.lc){var b=this.Re;c.bindBuffer(c.ARRAY_BUFFER,this.Kf[this.qc]);c.bufferData(c.ARRAY_BUFFER,this.nj.subarray(0,this.lc),c.STREAM_DRAW);b&&0<=b.zb&&"<point>"!==b.name&&c.vertexAttribPointer(b.zb,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.Ff[this.qc]);c.bufferData(c.ARRAY_BUFFER,this.cj.subarray(0,this.lc),c.STREAM_DRAW);b&&0<=b.Zc&&"<point>"!==b.name&&c.vertexAttribPointer(b.Zc,2,c.FLOAT,!1,0,0)}for(var n,c=0,b=this.oc;c<b;c++)switch(n=
this.Pc[c],n.type){case 1:n.Km();break;case 2:n.Qm();break;case 3:n.Nm();break;case 4:n.Mm();break;case 5:n.Sm();break;case 6:n.Lm();break;case 7:n.Im();break;case 8:n.Jm();break;case 9:n.Om();break;case 10:n.Pm();break;case 11:n.Rm()}this.Ai=this.lc=this.oc=0;this.Xa=!1;this.qc++;4<=this.qc&&(this.qc=0)}};m.prototype.yf=function(c){if(c!==this.sk){var b=this.Rb();b.type=3;this.sk=b.al=c;this.Xa=!1}};m.prototype.Cb=function(c){if(c!==this.Hd){var b=this.Rb();b.type=2;this.Hd=b.Tb=c;this.Xa=!1}};m.prototype.ed=
function(c,b){if(c!==this.tk||b!==this.qk){var n=this.Rb();n.type=4;n.Db=c;n.cc=b;this.tk=c;this.qk=b;this.Xa=!1}};m.prototype.sl=function(){this.ed(this.e.ONE,this.e.ONE_MINUS_SRC_ALPHA)};m.prototype.Ng=function(c,b,n,p,g,a,k,q){15992<=this.lc&&this.vd();var f=this.lc,w=this.nj,e=this.cj;if(this.Xa)this.Pc[this.oc-1].cc+=6;else{var l=this.Rb();l.type=1;l.Db=f/4*3;l.cc=6;this.Xa=!0}w[f]=c;e[f++]=0;w[f]=b;e[f++]=0;w[f]=n;e[f++]=1;w[f]=p;e[f++]=0;w[f]=g;e[f++]=1;w[f]=a;e[f++]=1;w[f]=k;e[f++]=0;w[f]=
q;e[f++]=1;this.lc=f};m.prototype.Pd=function(c,b,n,p,g,a,k,q,f){15992<=this.lc&&this.vd();var e=this.lc,h=this.nj,l=this.cj;if(this.Xa)this.Pc[this.oc-1].cc+=6;else{var v=this.Rb();v.type=1;v.Db=e/4*3;v.cc=6;this.Xa=!0}var v=f.left,m=f.top,d=f.right;f=f.bottom;h[e]=c;l[e++]=v;h[e]=b;l[e++]=m;h[e]=n;l[e++]=d;h[e]=p;l[e++]=m;h[e]=g;l[e++]=d;h[e]=a;l[e++]=f;h[e]=k;l[e++]=v;h[e]=q;l[e++]=f;this.lc=e};m.prototype.jc=function(c){if(this.hf!==c){if(!this.pa[c]){if(0===this.hf)return;c=0}var b=this.Rb();
b.type=9;this.hf=b.Db=c;this.Xa=!1}};m.prototype.vf=function(c){c=this.pa[c];return!(!c.Md&&!c.Ld)};m.prototype.Ci=function(c){c=this.pa[c];return!!(c.Md||c.Ld||c.Ej)};m.prototype.Vo=function(c){c=this.pa[c];return 0!==c.Hh||0!==c.Ih};m.prototype.Pn=function(c){return this.pa[c].Hh};m.prototype.Qn=function(c){return this.pa[c].Ih};m.prototype.Rn=function(c,b){return this.pa[c].A[b][2]};m.prototype.Mg=function(c){return this.pa[c].tj};m.prototype.xe=function(c,b,e,p,g,a,k,q,f,w,h,l,v,m){var d=this.pa[this.hf],
r,t;if(d.mo||m.length){r=this.Rb();r.type=10;r.M?Tb(this.Ab,r.M):r.M=X();t=r.M;t[0]=b;t[1]=e;t[2]=p;t[3]=g;t[4]=a;t[5]=k;t[6]=q;t[7]=f;t[8]=w;t[9]=h;t[10]=l;t[11]=v;r.Tb=d.of?c:null;if(m.length)for(e=r.xl,e.length=m.length,c=0,b=m.length;c<b;c++)e[c]=m[c];this.Xa=!1}};m.prototype.clear=function(c,b,e,p){var g=this.Rb();g.type=7;g.Db=0;g.M||(g.M=X());g.M[0]=c;g.M[1]=b;g.M[2]=e;g.M[3]=p;this.Xa=!1};m.prototype.clearRect=function(c,b,e,p){if(!(0>e||0>p)){var g=this.Rb();g.type=7;g.Db=1;g.M||(g.M=X());
g.M[0]=c;g.M[1]=b;g.M[2]=e;g.M[3]=p;this.Xa=!1}};m.prototype.Uo=function(){this.vd();this.e.flush()};var e=[],u={};m.prototype.zm=function(){e.length=0;u={}};m.prototype.xk=function(c,b,n){var p;p=!1;b=!!b;var g=c.src+","+p+","+b+(p?",undefined":""),a=null;if("undefined"!==typeof c.src&&u.hasOwnProperty(g))return a=u[g],a.Sf++,a;this.vd();var k=this.e,q=ja(c.width)&&ja(c.height),a=k.createTexture();k.bindTexture(k.TEXTURE_2D,a);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var f=k.RGBA,w=k.RGBA,
h=k.UNSIGNED_BYTE;if(n&&!this.Ed)switch(n){case 1:w=f=k.RGB;break;case 2:h=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=f=k.RGB,h=k.UNSIGNED_SHORT_5_6_5}if(!q&&p){n=document.createElement("canvas");n.width=ka(c.width);n.height=ka(c.height);var l=n.getContext("2d");l.webkitImageSmoothingEnabled=b;l.mozImageSmoothingEnabled=b;l.msImageSmoothingEnabled=b;l.imageSmoothingEnabled=b;l.drawImage(c,0,0,c.width,c.height,0,0,n.width,n.height);k.texImage2D(k.TEXTURE_2D,0,f,
w,h,n)}else k.texImage2D(k.TEXTURE_2D,0,f,w,h,c);p?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),q&&this.Jj?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.Hd=null;a.Oe=c.width;a.Ne=c.height;a.Sf=1;a.yj=g;e.push(a);return u[g]=a};m.prototype.Sc=function(c,b,n){var p;this.vd();var g=this.e;this.Ed&&(p=!1);var a=g.createTexture();g.bindTexture(g.TEXTURE_2D,a);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,c,b,0,g.RGBA,p?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.Hd=null;a.Oe=c;a.Ne=b;e.push(a);return a};m.prototype.deleteTexture=function(c){c&&("undefined"!==typeof c.Sf&&1<c.Sf?c.Sf--:(this.vd(),c===this.Hd&&(this.e.bindTexture(this.e.TEXTURE_2D,null),this.Hd=null),c===this.Id&&(this.e.activeTexture(this.e.TEXTURE1),
this.e.bindTexture(this.e.TEXTURE_2D,null),this.e.activeTexture(this.e.TEXTURE0),this.Id=null),Ba(e,c),"undefined"!==typeof c.yj&&delete u[c.yj],this.e.deleteTexture(c)))};m.prototype.ic=function(c){if(c!==this.ol){var b=this.Rb();b.type=6;this.ol=b.Tb=c;this.Xa=!1}};bb=m})();
(function(){function m(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function h(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(d){if(d&&(d.getContext||d.dc)&&!d.c2runtime){d.c2runtime=this;var a=this;this.Cd=(this.og=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Dd=!!d.dc;this.so="undefined"!==typeof window.AppMobi||this.Dd;this.Mb=!!window.c2cocoonjs;this.Nb=!!window.c2ejecta;this.Mb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.Nb&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",
function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.Ja=this.Dd||this.Mb||this.Nb;this.Ed=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.kk=/tizen/i.test(navigator.userAgent);this.ik=/android/i.test(navigator.userAgent)&&!this.kk&&!this.Ed;this.ii=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Ed;this.pk=/ipad/i.test(navigator.userAgent);this.ok=this.ii||this.pk||this.Nb;this.zo=this.ii&&/os\s6/i.test(navigator.userAgent);this.ng=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Ed;this.hk=/amazonwebappplatform/i.test(navigator.userAgent);this.vo=/firefox/i.test(navigator.userAgent);this.xo=/safari/i.test(navigator.userAgent)&&!this.ng&&!this.Ed;this.Xc="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.mk=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.yo=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ge=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.gi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.lk=this.mk||this.yo||this.gi;this.to=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.jk=this.ik&&!this.ng&&!this.og&&!this.vo&&!this.hk&&!this.Ja;this.devicePixelRatio=
1;this.fe=this.Cd||this.og||this.so||this.Mb||this.ik||this.ok||this.ge||this.gi||this.to||this.kk||this.Nb;this.fe||(this.fe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Xc||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Xc=!0);this.uo="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=d;this.Bj=document.getElementById("c2canvasdiv");
this.O=this.p=this.e=null;this.Nh="";this.gg=!1;this.Xk=this.Yk=0;this.canvas.oncontextmenu=function(d){d.preventDefault&&d.preventDefault();return!1};this.canvas.onselectstart=function(d){d.preventDefault&&d.preventDefault();return!1};this.Dd&&(window.c2runtime=this);this.Xc&&(window.ondragover=function(d){d.preventDefault();return!1},window.ondrop=function(d){d.preventDefault();return!1},require("nw.gui").App.clearCache());this.jk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=d.width;this.height=d.height;this.F=this.width;this.D=this.height;this.Yf=this.width;this.Xf=this.height;this.kf=window.innerWidth;this.jf=window.innerHeight;this.Bn=!1;this.R=!0;this.ff=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.ba=[];this.li={};this.Pb=[];this.Gh={};this.tc=[];this.He=[];this.eh=[];this.om=[];this.pm=[];this.Cl=null;this.sd={};this.di=this.Wc=!1;this.yc=0;this.fi=!1;this.Ib=[];this.zc=this.La=this.Ag=this.Qi=
"";this.Ef=this.Al=!1;this.yh=this.rf=this.sc=this.ae=0;this.De=1;this.Gd=new Sa;this.hh=new Sa;this.ug=0;this.Pk=!0;this.Kg=this.hg=this.eg=this.Gf=this.Kd=this.Lh=0;this.wh=null;this.Hj=[];this.Fh=[];this.dg=-1;this.pi=[[]];this.gj=this.Fg=0;this.Ei(null);this.We=this.Tk=this.tf=0;this.Yg=[];this.bh=this.Pg=-1;this.sg=!0;this.Dg=0;this.ef=!1;this.lp=0;this.Me=null;this.ko=!1;this.ki=0;this.Gi=!1;this.Vk=new E;this.si=new E;this.Wk=new E;this.nl=[];this.Sb=new Ua([]);this.bj=new Ua([]);this.Xd=[];
this.mg={};this.$d={};this.Wd={};this.Ge={};this.vj={};this.wk=this.yg=this.$a=this.nb=this.vk=this.xg=this.T=null;this.Ee=this.hi=!1;this.Oh=[null,null];this.xd=0;this.ad={};this.Vg=this.ne=null;this.Jg=[];this.Zo()}}function e(d){d.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(d,a,c,b){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=e;k.onerror=b;k.onsuccess=function(k){k=k.target.result;k.onerror=b;k.transaction(["saves"],"readwrite").objectStore("saves").put({slot:d,
data:a}).onsuccess=c}}function c(d,a,c){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=e;b.onerror=c;b.onsuccess=function(b){b=b.target.result;b.onerror=c;var k=b.transaction(["saves"]).objectStore("saves").get(d);k.onsuccess=function(){k.result?a(k.result.data):a(null)}}}function s(){J("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function n(d){var a,c=
{};for(a in d)!d.hasOwnProperty(a)||d[a]instanceof E||d[a]&&"undefined"!==typeof d[a].Kq||(c[a]=d[a]);return c}b.prototype.Zo=function(){var d=this,a;a=this.ge?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.mk||this.ge||this.gi)c="data.json";a.open("GET",c,!0);var b=!1;if(!this.Ja&&"response"in a&&"responseType"in a)try{a.responseType="json",b="json"===a.responseType}catch(k){b=!1}if(!b&&"responseType"in a)try{a.responseType="text"}catch(l){}if("overrideMimeType"in
a)try{a.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.ge?a.onreadystatechange=function(){4===a.readyState&&d.Cg(JSON.parse(a.responseText))}:(a.onload=function(){if(b)d.Cg(a.response);else if(d.Nb){var c=a.responseText,c=c.substr(c.indexOf("{"));d.Cg(JSON.parse(c))}else d.Cg(JSON.parse(a.responseText))},a.onerror=function(d){ca("Error requesting "+c+":");ca(d)});a.send()};b.prototype.po=function(){var d=this,a,c,b,k,l,f,q,p,e;this.devicePixelRatio=(this.Fd=(!this.Ja||this.Nb)&&
this.vp&&!this.jk)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ea();c=!(!this.Bn&&(!this.lh||this.Xc||this.lk||this.ge||this.og||this.Cd||this.hk));0<this.mb&&this.setSize(m(),h(),!0);try{this.Ym&&(this.Mb||this.Nb||!this.Ja)&&(a={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.e=this.canvas.getContext("webgl",a)||this.canvas.getContext("experimental-webgl",a))}catch(g){}if(this.e){this.Ja||(this.za=document.createElement("canvas"),
jQuery(this.za).appendTo(this.canvas.parentNode),this.za.oncontextmenu=function(){return!1},this.za.onselectstart=function(){return!1},this.za.width=this.Yf,this.za.height=this.Xf,jQuery(this.za).css({width:this.Yf+"px",height:this.Xf+"px"}),this.gl(),this.xi=this.za.getContext("2d"));this.p=new bb(this.e,this.fe);this.p.ye(this.canvas.width,this.canvas.height);this.p.Jj=0!==this.Tm;this.O=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();d.Io();J("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){d.p.ck();d.p.ye(d.p.width,d.p.height,!0);d.nb=null;d.$a=null;d.Oh[0]=null;d.Oh[1]=null;d.Jo();d.R=!0;J("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);a=0;for(c=this.i.length;a<c;a++)for(l=this.i[a],b=0,k=l.q.length;b<k;b++)q=l.q[b],q.Aa=this.p.Uh(q.id),this.Ee=this.Ee||this.p.vf(q.Aa);a=0;for(c=this.Pb.length;a<c;a++){p=this.Pb[a];b=0;for(k=p.q.length;b<k;b++)q=p.q[b],q.Aa=this.p.Uh(q.id);
b=0;for(k=p.B.length;b<k;b++)for(e=p.B[b],l=0,f=e.q.length;l<f;l++)q=e.q[l],q.Aa=this.p.Uh(q.id),this.Ee=this.Ee||this.p.vf(q.Aa)}}else{if(0<this.mb&&this.Dd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.O=AppMobi.canvas.getContext("2d");try{this.O.samplingMode=this.N?"smooth":"sharp",this.O.globalScale=1,this.O.HTML5CompatibilityMode=!0,this.O.imageSmoothingEnabled=this.N}catch(v){}0!==this.width&&0!==this.height&&(this.O.width=this.width,
this.O.height=this.height)}this.O||(a=this.Mb?{antialias:!!this.N,alpha:c}:{alpha:c},this.O=this.canvas.getContext("2d",a),this.O.webkitImageSmoothingEnabled=this.N,this.O.mozImageSmoothingEnabled=this.N,this.O.msImageSmoothingEnabled=this.N,this.O.imageSmoothingEnabled=this.N);this.xi=this.za=null}this.ah=function(){d.Ec(!1)};window==window.top||this.Ja||this.lk||this.ge||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},
!0));"undefined"!==typeof cr_is_preview&&(this.Mb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(J("Reloading for continuous preview"),this.Ag="__c2_continuouspreview",this.Ef=!0),this.No&&!this.fe&&(jQuery(window).focus(function(){d.setSuspended(!1)}),jQuery(window).blur(function(){d.setSuspended(!0)})));this.Ja||(a=function(d){if(ab(d)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(a){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",a):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",a):document.addEventListener("touchstart",a),document.addEventListener("mousedown",a));0===this.mb&&this.Fd&&1<this.devicePixelRatio&&this.setSize(this.la,this.ka,!0);this.Kl();this.io();this.go();this.U={}};b.prototype.setSize=function(d,a,c){var b=0,k=0,l=0,f=0,f=0,q=this.zo&&
this.xo&&!navigator.standalone&&!this.Ja&&!this.Cd;q&&(a+=60);if(this.kf!==d||this.jf!==a||c){this.kf=d;this.jf=a;var p=this.mb,e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.ef)&&!this.Cd;if(e||0!==this.mb||c)e&&0<this.xd&&(p=this.xd),c=this.devicePixelRatio,4<=p?(l=this.la/this.ka,d/a>l?(l*=a,5===p?(f=l*c/this.la,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.la*f/c,f=this.ka*f/c,b=(d-l)/2,k=(a-f)/2,d=l,a=f):(b=(d-l)/2,d=l)):
(f=d/l,5===p?(f=f*c/this.ka,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.la*f/c,f=this.ka*f/c,b=(d-l)/2,k=(a-f)/2,d=l):k=(a-f)/2,a=f),e&&!this.Xc&&(k=b=0)):this.Xc&&this.ef&&0===this.Qj&&(b=Math.floor((d-this.la)/2),k=Math.floor((a-this.ka)/2),d=this.la,a=this.ka),2>p&&(this.Le=c),this.Fd&&this.pk&&1<c&&(1024<=d&&(d=1023),1024<=a&&(a=1023)),this.Yf=Math.round(d),this.Xf=Math.round(a),this.width=Math.round(d*c),this.height=Math.round(a*c),this.R=!0,this.Vl?(this.F=this.width,this.D=this.height,
this.yb=!0):this.width<this.la&&this.height<this.ka||1===p?(this.F=this.width,this.D=this.height,this.yb=!0):(this.F=this.la,this.D=this.ka,this.yb=!1,2===p?(l=this.la/this.ka,p=this.kf/this.jf,p<l?this.F=this.D*p:p>l&&(this.D=this.F/p)):3===p&&(l=this.la/this.ka,p=this.kf/this.jf,p>l?this.F=this.D*p:p<l&&(this.D=this.F/p))),this.Bj&&!this.Ja&&(jQuery(this.Bj).css({width:Math.round(d)+"px",height:Math.round(a)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(d)+"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(d*c),this.canvas.height=Math.round(a*c),this.Nb?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(d)+"px",this.canvas.style.height=Math.round(a)+"px"):this.Fd&&!this.Ja&&jQuery(this.canvas).css({width:Math.round(d)+"px",height:Math.round(a)+"px"})),this.za&&(this.za.width=Math.round(d),this.za.height=Math.round(a),
jQuery(this.za).css({width:Math.round(d)+"px",height:Math.round(a)+"px"})),this.p&&this.p.ye(Math.round(d*c),Math.round(a*c)),this.Dd&&this.O&&(this.O.width=Math.round(d),this.O.height=Math.round(a)),this.O&&(this.O.webkitImageSmoothingEnabled=this.N,this.O.mozImageSmoothingEnabled=this.N,this.O.msImageSmoothingEnabled=this.N,this.O.imageSmoothingEnabled=this.N),this.Kl(),this.Ja||!q&&!this.ii||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Kl=function(){if(this.rm&&0!==this.wi){var d=
"portrait";2===this.wi&&(d="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(d):screen.lockOrientation?screen.lockOrientation(d):screen.webkitLockOrientation?screen.webkitLockOrientation(d):screen.mozLockOrientation?screen.mozLockOrientation(d):screen.msLockOrientation&&screen.msLockOrientation(d)}};b.prototype.Io=function(){this.p.zm();this.hi=!0;var d,a,c;d=0;for(a=this.i.length;d<a;d++)c=this.i[d],c.Zk&&c.Zk()};b.prototype.Jo=function(){this.hi=!1;var d,a,c;d=0;for(a=
this.i.length;d<a;d++)c=this.i[d],c.$k&&c.$k()};b.prototype.gl=function(){if(!this.Ja){var d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.ef)&&!this.Cd?jQuery(this.canvas).offset():jQuery(this.canvas).position();d.position="absolute";jQuery(this.za).css(d)}};var p=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=
function(d){var a;if(d&&!this.ff)for(J("[Construct 2] Suspending"),this.ff=!0,-1!==this.Pg&&p&&p(this.Pg),-1!==this.bh&&clearTimeout(this.bh),d=0,a=this.Yg.length;d<a;d++)this.Yg[d](!0);else if(!d&&this.ff){J("[Construct 2] Resuming");this.ff=!1;this.ug=Na();this.Kd=Na();d=this.rf=this.hg=0;for(a=this.Yg.length;d<a;d++)this.Yg[d](!1);this.Ec(!1)}};b.prototype.Lc=function(d){return this.Jg[d]};b.prototype.Cg=function(d){d&&d.project||ca("Project model unavailable");d=d.project;this.name=d[0];this.Pj=
d[1];this.mb=d[12];this.Qj=d[12];this.la=d[10];this.ka=d[11];this.bl=this.la/2;this.cl=this.ka/2;this.Ja&&!this.Nb&&(4<=d[12]||0===d[12])&&(J("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Qj=this.mb=3);this.lj=d[18];this.lf=d[19];0===this.lf&&(this.ne=new Image,this.ne.src="loading-logo.png");this.tf=d[21];this.Jg=[Xb,Yb,Zb,$b];this.kc=new Z(this);var a,c,b,k,l,f,q,p,e;a=0;for(c=d[2].length;a<c;a++)q=d[2][a],b=this.Lc(q[0]),
cb(q,b.prototype),e=new b(this),e.Ug=q[1],e.Yc=q[2],e.Sk=q[9],e.ya&&e.ya(),this.plugins.push(e);this.Jg=[Xb,Yb,Zb,$b];a=0;for(c=d[3].length;a<c;a++){q=d[3][a];l=this.Lc(q[1]);e=null;b=0;for(k=this.plugins.length;b<k;b++)if(this.plugins[b]instanceof l){e=this.plugins[b];break}var g=new e.mc(e);g.name=q[0];g.H=q[2];g.bi=q[3].slice(0);g.wp=q[3].length;g.tm=q[4];g.Cn=q[5];g.G=q[11];g.H?(g.Hg=[],g.uc=this.We++,g.V=null):(g.Hg=null,g.uc=-1,g.V=[]);g.fg=null;g.be=null;g.Lj=null;g.Ob=!1;g.Ua=null;q[6]?(g.Fl=
q[6][0],g.Gl=q[6][1],g.np=q[6][2]):(g.Fl=null,g.Gl=0,g.np=0);g.Ta=q[7]?q[7]:null;g.index=a;g.c=[];g.ag=[];g.hd=[new db(g)];g.rc=0;g.Xb=null;g.Fm=0;g.Be=!0;g.fh=eb;g.Hn=fb;g.On=gb;g.W=hb;g.wf=ib;g.Di=jb;g.ve=kb;g.ig=lb;g.Ph=mb;g.Sh=nb;g.pd=ob;g.Uj=pb;g.Vf=new Va(this.la,this.ka);g.Mf=!0;g.Nf=!1;g.U={};g.toString=qb;g.ba=[];b=0;for(k=q[8].length;b<k;b++){p=q[8][b];var v=this.Lc(p[1]),n=null;l=0;for(f=this.ba.length;l<f;l++)if(this.ba[l]instanceof v){n=this.ba[l];break}n||(n=new v(this),n.ri=[],n.Ig=
new E,n.ya&&n.ya(),this.ba.push(n),$b&&n instanceof $b&&(this.Cl=n));-1===n.ri.indexOf(g)&&n.ri.push(g);l=new n.mc(n,g);l.name=p[0];l.G=p[2];l.ya();g.ba.push(l)}g.global=q[9];g.ei=q[10];g.q=[];b=0;for(k=q[12].length;b<k;b++)g.q.push({id:q[12][b][0],name:q[12][b][1],Aa:-1,gb:!0,index:b});g.Xq=q[13];this.lj&&!g.H&&!g.ei&&e.Yc||g.ya();g.name&&(this.types[g.name]=g);this.i.push(g);e.Ug&&(b=new e.rb(g),b.uid=this.tf++,b.kl=this.Tk++,b.zd=0,b.Ye=rb,b.toString=sb,b.ta=q[14],b.ya(),g.c.push(b),this.ad[b.uid.toString()]=
b)}a=0;for(c=d[4].length;a<c;a++)for(l=d[4][a],f=this.i[l[0]],b=1,k=l.length;b<k;b++)q=this.i[l[b]],q.V.push(f),f.Hg.push(q);a=0;for(c=d[27].length;a<c;a++){l=d[27][a];f=[];b=0;for(k=l.length;b<k;b++)f.push(this.i[l[b]]);b=0;for(k=f.length;b<k;b++)f[b].Ob=!0,f[b].Ua=f}if(0<this.We)for(a=0,c=this.i.length;a<c;a++)if(q=this.i[a],!q.H&&q.V.length){q.fg=Array(this.We);q.be=Array(this.We);q.Lj=Array(this.We);g=[];b=n=v=p=0;for(k=q.V.length;b<k;b++)for(e=q.V[b],q.fg[e.uc]=p,p+=e.wp,q.be[e.uc]=v,v+=e.tm,
q.Lj[e.uc]=n,n+=e.Cn,l=0,f=e.q.length;l<f;l++)g.push(ua({},e.q[l]));q.q=g.concat(q.q);b=0;for(k=q.q.length;b<k;b++)q.q[b].index=b}a=0;for(c=d[5].length;a<c;a++)q=d[5][a],b=new tb(this,q),this.li[b.name]=b,this.Pb.push(b);a=0;for(c=d[6].length;a<c;a++)q=d[6][a],b=new ub(this,q),this.Gh[b.name]=b,this.tc.push(b);a=0;for(c=this.tc.length;a<c;a++)this.tc[a].Z();a=0;for(c=this.tc.length;a<c;a++)this.tc[a].Sl();a=0;for(c=this.eh.length;a<c;a++)this.eh[a].Z();this.eh.length=0;this.qm=d[7];this.ue=d[9];this.Le=
1;this.Ym=d[13];this.N=d[14];this.lh=d[15];this.vp=d[17];this.wi=d[20];this.rm=0<this.wi;this.No=d[22];this.yb=this.Vl=d[23];this.Tm=d[24];this.So=d[25];this.Wg=Date.now();this.Jg.length=0;this.po()};var g=!1;b.prototype.xp=function(d,a){d.cocoonLazyLoad=!0;d.onerror=function(a){g=d.xj=!0;console&&console.error&&console.error("Error loading image '"+d.src+"': ",a)};this.Nb?d.src=a:d.src||("undefined"!==typeof XAPKReader?XAPKReader.get(a,function(a){d.src=a},function(b){g=d.xj=!0;console&&console.error&&
console.error("Error extracting image '"+a+"' from expansion file: ",b)}):d.src=a);this.He.push(d)};b.prototype.An=function(d){var a,b;a=0;for(b=this.He.length;a<b;a++)if(this.He[a].Bm===d)return this.He[a];return null};var a=0,k=!1;b.prototype.io=function(){this.Me&&(a=this.Me.Uq(this.qm))};b.prototype.uj=function(){var d=a,b=0,c=0,l=!0,f,q,c=0;for(f=this.He.length;c<f;c++){q=this.He[c];var g=q.Am;if(!g||0>=g)g=5E4;d+=g;q.src&&(q.complete||q.loaded)&&!q.xj?b+=g:l=!1}l&&this.So&&this.Me&&(k||(this.Me.Vq(),
k=!0),c=this.Me.Oq(),b+=c,c<a&&(l=!1));this.Od=0==d?0:b/d;return l};b.prototype.go=function(){if(this.O||this.p){var d=this.O||this.xi;this.za&&this.gl();this.Od=0;this.uk=-1;if(this.uj())this.jo();else{var a=Date.now()-this.Wg;if(d){var b=this.width,c=this.height,k=this.devicePixelRatio;this.za&&(b=this.Yf,c=this.Xf,k=1);if(3!==this.lf&&(this.Mb||500<=a&&this.uk!=this.Od)){d.clearRect(0,0,b,c);var a=b/2,c=c/2,b=0===this.lf&&this.ne.complete,l=40*k,f=0,q=80*k,p;b&&(q=this.ne.width*k,p=this.ne.height*
k,l=q/2,f=p/2,d.drawImage(this.ne,Q(a-l),Q(c-f),q,p));1>=this.lf?(a=Q(a-l)+.5,c=Q(c+(f+(b?12*k:0)))+.5,d.fillStyle=g?"red":"DodgerBlue",d.fillRect(a,c,Math.floor(q*this.Od),6*k),d.strokeStyle="black",d.strokeRect(a,c,q,6*k),d.strokeStyle="white",d.strokeRect(a-1*k,c-1*k,q+2*k,8*k)):2===this.lf&&(d.font=this.Nb?"12pt ArialMT":"12pt Arial",d.fillStyle=g?"#f00":"#999",d.Wq="middle",k=Math.round(100*this.Od)+"%",b=d.measureText?d.measureText(k):null,d.fillText(k,a-(b?b.width:0)/2,c))}this.uk=this.Od}setTimeout(function(d){return function(){d.go()}}(this),
this.Mb?10:100)}}};b.prototype.jo=function(){this.za&&(this.canvas.parentNode.removeChild(this.za),this.za=this.xi=null);this.Wg=Date.now();this.Kd=Na();var d,a,b;if(this.lj)for(d=0,a=this.i.length;d<a;d++)b=this.i[d],b.H||b.ei||!b.Ma.Yc||b.ya();else this.sg=!1;d=0;for(a=this.Pb.length;d<a;d++)this.Pb[d].Cm();2<=this.mb&&(d=this.la/this.ka,a=this.width/this.height,this.Le=2!==this.mb&&a>d||2===this.mb&&a<d?this.height/this.ka:this.width/this.la);this.Pj?this.li[this.Pj].aj():this.Pb[0].aj();this.lj||
(this.Dg=1,this.trigger(Z.prototype.S.pj,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();d=0;for(a=this.i.length;d<a;d++)b=this.i[d],b.Ho&&b.Ho();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ec(!1);this.Dd&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;
b.prototype.Ec=function(d){if(this.T){var a=Na();if(this.ko&&this.Gi&&29>a-this.ki)this.Gi=!1,this.ki=a,q?this.Pg=q(this.ah,this.canvas):this.bh=setTimeout(this.ah,this.fe?1:16);else{this.Gi=!0;this.ki=a;var b=this.mb,c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Cd;(c||this.ef)&&0<this.xd&&(b=this.xd);0<b&&(!this.ok||window.self!==window.top)&&(b=window.innerHeight,this.kf===window.innerWidth&&this.jf===b||this.setSize(m(),h()));
this.Ja||(c?(this.gg||(this.Nh=jQuery(this.canvas).css("margin")||"0",this.gg=!0),this.ng||this.Xc||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.gg?(this.ng||this.Xc||jQuery(this.canvas).css("margin",this.Nh),this.Nh="",this.gg=!1,0===this.mb&&this.setSize(Math.round(this.Yk/this.devicePixelRatio),Math.round(this.Xk/this.devicePixelRatio),!0)):
(this.Yk=this.width,this.Xk=this.height));this.sg&&(c=this.uj(),this.Dg=this.Od,c&&(this.sg=!1,this.Od=1,this.trigger(Z.prototype.S.pj,null)));this.Do();!this.R&&!this.Mb||this.hi||this.Ef||d||(this.R=!1,this.p?this.Yb():this.ud(),this.Vg&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Vg[0],this.Vg[1]),this.trigger(Z.prototype.S.hm,null)),this.Vg=null));this.Pq||(this.Gf++,this.eg++,this.hg++);this.rf+=Na()-a;this.ff||d||(q?this.Pg=q(this.ah,this.canvas):this.bh=setTimeout(this.ah,
this.fe?1:16))}}};b.prototype.Do=function(){var d,a,b,c,k,l,f,q,g;d=Na();1E3<=d-this.Kd&&(this.Kd+=1E3,1E3<=d-this.Kd&&(this.Kd=d),this.Lh=this.hg,this.hg=0,this.yh=this.rf,this.rf=0);this.Pk&&(0!==this.ug&&(a=d-this.ug,0!==a||this.uo?(this.sc=a/1E3,.5<this.sc?this.sc=0:.1<this.sc&&(this.sc=.1)):(10<=this.Yq&&(this.Pk=!1),this.sc=1/60)),this.ug=d);this.ae=this.sc*this.De;this.Gd.add(this.ae);this.hh.add(this.sc);d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||
this.ef)&&!this.Cd;2<=this.mb||d&&0<this.xd?(a=this.la/this.ka,b=this.width/this.height,c=this.mb,d&&0<this.xd&&(c=this.xd),this.Le=2!==c&&b>a||2===c&&b<a?this.height/this.ka:this.width/this.la,this.T&&(this.T.Ri(this.T.scrollX),this.T.Si(this.T.scrollY))):this.Le=this.Fd?this.devicePixelRatio:1;this.Ea();this.yc++;this.kc.bp();this.yc--;this.Ea();this.yc++;b=this.Vk.Ic();d=0;for(a=b.length;d<a;d++)b[d].Qq();d=0;for(a=this.i.length;d<a;d++)if(f=this.i[d],!f.H&&(f.ba.length||f.V.length))for(b=0,c=
f.c.length;b<c;b++)for(q=f.c[b],k=0,l=q.u.length;k<l;k++)q.u[k].Ec();d=0;for(a=this.i.length;d<a;d++)if(f=this.i[d],!f.H&&(f.ba.length||f.V.length))for(b=0,c=f.c.length;b<c;b++)for(q=f.c[b],k=0,l=q.u.length;k<l;k++)g=q.u[k],g.Ro&&g.Ro();b=this.si.Ic();d=0;for(a=b.length;d<a;d++)b[d].Ec();this.yc--;this.lo();for(d=0;this.wh&&10>d++;)this.Ij(this.wh);d=0;for(a=this.tc.length;d<a;d++)this.tc[d].Wh=!1;this.T.Ue&&this.T.Ue.oa();this.nl.length=0;this.yc++;d=0;for(a=this.i.length;d<a;d++)if(f=this.i[d],
!f.H&&(f.ba.length||f.V.length))for(b=0,c=f.c.length;b<c;b++)for(q=f.c[b],k=0,l=q.u.length;k<l;k++)g=q.u[k],g.dj&&g.dj();b=this.Wk.Ic();d=0;for(a=b.length;d<a;d++)b[d].dj();this.yc--};b.prototype.Ij=function(d){var a=this.T;this.T.mp();var b,c,k,l,f,q,g;if(this.p)for(b=0,c=this.i.length;b<c;b++)f=this.i[b],f.H||!f.Ol||f.global&&0!==f.c.length||-1!==d.cf.indexOf(f)||f.Ol();a==d&&(this.kc.cb.length=0);d.aj();b=0;for(c=this.i.length;b<c;b++)if(f=this.i[b],f.global||f.Ma.Ug)for(d=0,a=f.c.length;d<a;d++)if(q=
f.c[d],q.vi&&q.vi(),q.u)for(k=0,l=q.u.length;k<l;k++)g=q.u[k],g.vi&&g.vi();this.R=!0;this.Ea()};b.prototype.op=function(d){this.si.add(d)};b.prototype.Qh=function(d){return d&&-1!==d.sf?this.sc*d.sf:this.ae};b.prototype.ud=function(){this.T.ud(this.O);this.Dd&&this.O.present()};b.prototype.Yb=function(){this.T.Yb(this.p);this.p.Uo()};b.prototype.Xj=function(d){d=d.toString();return this.ad.hasOwnProperty(d)?this.ad[d]:null};var f=[];b.prototype.Sd=function(d){var a,b;a=d.type.name;var c=null;if(this.sd.hasOwnProperty(a)){if(c=
this.sd[a],c.contains(d))return}else c=f.length?f.pop():new E,this.sd[a]=c;c.add(d);this.Wc=!0;if(d.Ob)for(a=0,b=d.siblings.length;a<b;a++)this.Sd(d.siblings[a]);this.di&&c.Fe.push(d);this.yc++;this.trigger(Object.getPrototypeOf(d.type.Ma).S.jm,d);this.yc--};b.prototype.Ea=function(){if(this.Wc){var d,a,b,c,k,l;this.di=!0;b=0;for(k=this.Ib.length;b<k;++b)for(d=this.Ib[b],a=d.type,a.c.push(d),c=0,l=a.V.length;c<l;++c)a.V[c].c.push(d),a.V[c].Be=!0;this.Ib.length=0;this.dm();Ma(this.sd);this.Wc=this.di=
!1}};b.prototype.dm=function(){for(var d in this.sd)this.sd.hasOwnProperty(d)&&this.Zl(this.sd[d])};b.prototype.Zl=function(d){var a=d.Ic(),b=a[0].type,c,k,l,q,g,p;Oa(b.c,d);b.Be=!0;0===b.c.length&&(b.Nf=!1);c=0;for(k=b.V.length;c<k;++c)p=b.V[c],Oa(p.c,d),p.Be=!0;c=0;for(k=this.kc.cb.length;c<k;++c)if(g=this.kc.cb[c],g.bb.hasOwnProperty(b.index)&&Oa(g.bb[b.index].Bd,d),!b.H)for(l=0,q=b.V.length;l<q;++l)p=b.V[l],g.bb.hasOwnProperty(p.index)&&Oa(g.bb[p.index].Bd,d);if(g=a[0].g){if(g.Ub)for(l=g.c,c=
0,k=l.length;c<k;++c)q=l[c],d.contains(q)&&(q.ea(),g.ab.update(q,q.Ra,null),q.Ra.set(0,0,-1,-1));Oa(g.c,d);g.zf(0)}for(c=0;c<a.length;++c)this.Yl(a[c],b);d.clear();f.push(d);this.R=!0};b.prototype.Yl=function(d,a){var b,c,k;b=0;for(c=this.Hj.length;b<c;++b)this.Hj[b](d);d.Rc&&a.Vf.update(d,d.Rc,null);(b=d.g)&&b.we(d,!0);if(d.u)for(b=0,c=d.u.length;b<c;++b)k=d.u[b],k.ti&&k.ti(),k.behavior.Ig.remove(d);this.Vk.remove(d);this.si.remove(d);this.Wk.remove(d);d.ti&&d.ti();this.ad.hasOwnProperty(d.uid.toString())&&
delete this.ad[d.uid.toString()];this.Kg--;100>a.ag.length&&a.ag.push(d)};var w=[];b.prototype.rd=function(d,a,b,c,k,l){var f,q,g,p;if(!d)return null;var e=this.i[d[1]],v=e.Ma.Yc;if(this.sg&&v&&!e.ei||v&&!this.p&&11===d[0][11])return null;var n=a;v||(a=null);var h;e.ag.length?(h=e.ag.pop(),h.hc=!0,e.Ma.rb.call(h,e)):(h=new e.Ma.rb(e),h.hc=!1);h.uid=b&&!l?d[2]:this.tf++;this.ad[h.uid.toString()]=h;h.kl=this.Tk++;h.zd=e.c.length;f=0;for(q=this.Ib.length;f<q;++f)this.Ib[f].type===e&&h.zd++;h.Ye=rb;h.toString=
sb;g=d[3];if(h.hc)Ma(h.U);else{h.U={};if("undefined"!==typeof cr_is_preview)for(h.fk=[],h.fk.length=g.length,f=0,q=g.length;f<q;f++)h.fk[f]=g[f][1];h.ia=[];h.ia.length=g.length}f=0;for(q=g.length;f<q;f++)h.ia[f]=g[f][0];if(v){var m=d[0];h.x=da(c)?m[0]:c;h.y=da(k)?m[1]:k;h.z=m[2];h.width=m[3];h.height=m[4];h.depth=m[5];h.d=m[6];h.opacity=m[7];h.Ya=m[8];h.Za=m[9];h.Oa=m[10];f=m[11];!this.p&&e.q.length&&(h.Oa=f);h.Pe=Xa(h.Oa);this.e&&Ya(h,h.Oa,this.e);if(h.hc){f=0;for(q=m[12].length;f<q;f++)for(g=0,
p=m[12][f].length;g<p;g++)h.Y[f][g]=m[12][f][g];h.ha.set(0,0,0,0);h.Rc.set(0,0,-1,-1);h.Ra.set(0,0,-1,-1);h.ub.Af(h.ha);h.ph.length=0}else{h.Y=m[12].slice(0);f=0;for(q=h.Y.length;f<q;f++)h.Y[f]=m[12][f].slice(0);h.I=[];h.Mc=[];h.Mc.length=e.q.length;h.ha=new R(0,0,0,0);h.Rc=new R(0,0,-1,-1);h.Ra=new R(0,0,-1,-1);h.ub=new ta;h.ph=[];h.L=vb;h.Jq=wb;h.Va=xb;h.ea=yb;h.up=zb;h.Tl=Ab;h.ac=Bb}h.Hf=!1;h.rp=0;h.qp=0;h.pp=null;14===m.length&&(h.Hf=!0,h.rp=m[13][0],h.qp=m[13][1],h.pp=m[13][2]);f=0;for(q=e.q.length;f<
q;f++)h.Mc[f]=!0;h.Hc=Cb;h.Hc();h.Ul=!!h.I.length;h.oh=!0;h.rh=!0;e.Mf=!0;h.visible=!0;h.sf=-1;h.g=a;h.Vb=a.c.length;"undefined"===typeof h.J&&(h.J=null);this.R=h.pc=!0}var z;f=w.length=0;for(q=e.V.length;f<q;f++)w.push.apply(w,e.V[f].ba);w.push.apply(w,e.ba);if(h.hc)for(f=0,q=w.length;f<q;f++){var s=w[f];z=h.u[f];z.hc=!0;s.behavior.rb.call(z,s,h);m=d[4][f];g=0;for(p=m.length;g<p;g++)z.ta[g]=m[g];z.ya();s.behavior.Ig.add(h)}else for(h.u=[],f=0,q=w.length;f<q;f++)s=w[f],z=new s.behavior.rb(s,h),z.hc=
!1,z.ta=d[4][f].slice(0),z.ya(),h.u.push(z),s.behavior.Ig.add(h);m=d[5];if(h.hc)for(f=0,q=m.length;f<q;f++)h.ta[f]=m[f];else h.ta=m.slice(0);this.Ib.push(h);this.Wc=!0;a&&(a.Ke(h,!0),1!==a.Ac||1!==a.Bc)&&(e.Nf=!0);this.Kg++;if(e.Ob){if(h.Ob=!0,h.hc?h.siblings.length=0:h.siblings=[],!b&&!l){f=0;for(q=e.Ua.length;f<q;f++)if(e.Ua[f]!==e){if(!e.Ua[f].Xb)return null;h.siblings.push(this.rd(e.Ua[f].Xb,n,!1,v?h.x:c,v?h.y:k,!0))}f=0;for(q=h.siblings.length;f<q;f++)for(h.siblings[f].siblings.push(h),g=0;g<
q;g++)f!==g&&h.siblings[f].siblings.push(h.siblings[g])}}else h.Ob=!1,h.siblings=null;h.ya();f=0;for(q=h.u.length;f<q;f++)h.u[f].Qo&&h.u[f].Qo();return h};b.prototype.Ln=function(d){var a,b;a=0;for(b=this.T.B.length;a<b;a++){var c=this.T.B[a];if($a(c.name,d))return c}return null};b.prototype.Mn=function(d){d=Q(d);0>d&&(d=0);d>=this.T.B.length&&(d=this.T.B.length-1);return this.T.B[d]};b.prototype.xh=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].W().da=!0};b.prototype.wf=function(d){var a,b;
a=0;for(b=d.length;a<b;a++)d[a].wf()};b.prototype.Di=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].Di()};b.prototype.ve=function(d){var a,b;a=0;for(b=d.length;a<b;a++)d[a].ve()};b.prototype.Ql=function(d){if(d.Mf){var a,b,c=d.c;a=0;for(b=c.length;a<b;++a)c[a].Tl();c=this.Ib;a=0;for(b=c.length;a<b;++a)c[a].type===d&&c[a].Tl();d.Mf=!1}};b.prototype.Fn=function(d,a,b,c){var k,f,l=d?1!==d.Ac||1!==d.Bc:!1;if(a.H)for(d=0,k=a.Hg.length;d<k;++d)f=a.Hg[d],l||f.Nf?za(c,f.c):(this.Ql(f),f.Vf.Og(b,c));
else l||a.Nf?za(c,a.c):(this.Ql(a),a.Vf.Og(b,c))};b.prototype.Tn=function(d,a,b,c){var k,f;k=0;for(f=a.length;k<f;++k)this.Fn(d,a[k],b,c)};b.prototype.Sn=function(d,a,b){var c=this.Cl;c&&this.Tn(d,c.ri,a,b)};b.prototype.Ce=function(d,a){if(!(d&&a&&d!==a&&d.pc&&a.pc))return!1;d.ea();a.ea();var b=d.g,c=a.g,k,f,l,q,g,h,e,p;if(b===c||b.Ac===c.Ac&&c.Bc===c.Bc&&b.scale===c.scale&&b.d===c.d&&b.Lf===c.Lf){if(!d.ha.qo(a.ha)||!d.ub.gk(a.ub)||d.Hf&&a.Hf)return!1;if(d.Hf)return this.El(d,a);if(a.Hf)return this.El(a,
d);e=d.J&&!d.J.he();k=a.J&&!a.J.he();if(!e&&!k)return!0;e?(d.J.Yd(d.width,d.height,d.d),e=d.J):(this.Sb.ze(d.ub,d.x,d.y,d.width,d.height),e=this.Sb);k?(a.J.Yd(a.width,a.height,a.d),p=a.J):(this.Sb.ze(a.ub,a.x,a.y,a.width,a.height),p=this.Sb);return e.df(p,a.x-d.x,a.y-d.y)}e=d.J&&!d.J.he();k=a.J&&!a.J.he();e?(d.J.Yd(d.width,d.height,d.d),this.Sb.ul(d.J)):this.Sb.ze(d.ub,d.x,d.y,d.width,d.height);e=this.Sb;k?(a.J.Yd(a.width,a.height,a.d),this.bj.ul(a.J)):this.bj.ze(a.ub,a.x,a.y,a.width,a.height);p=
this.bj;k=0;for(f=e.Qb;k<f;k++)l=2*k,q=l+1,g=e.ma[l],h=e.ma[q],e.ma[l]=b.Ka(g+d.x,h+d.y,!0),e.ma[q]=b.Ka(g+d.x,h+d.y,!1);e.ea();k=0;for(f=p.Qb;k<f;k++)l=2*k,q=l+1,g=p.ma[l],h=p.ma[q],p.ma[l]=c.Ka(g+a.x,h+a.y,!0),p.ma[q]=c.Ka(g+a.x,h+a.y,!1);p.ea();return e.df(p,0,0)};var z=new ta;new R(0,0,0,0);var l=[];b.prototype.El=function(d,a){var b,c,k,f,q=a.ha,g=d.x,e=d.y;d.Lq(q,l);var h=a.J&&!a.J.he();b=0;for(c=l.length;b<c;++b)if(k=l[b],f=k.Rq,q.ro(f,g,e)&&(z.Af(f),z.offset(g,e),z.gk(a.ub)))if(h)if(a.J.Yd(a.width,
a.height,a.d),k.Bi){if(k.Bi.df(a.J,a.x-(g+f.left),a.y-(e+f.top)))return l.length=0,!0}else{if(this.Sb.ze(z,0,0,f.right-f.left,f.bottom-f.top),this.Sb.df(a.J,a.x,a.y))return l.length=0,!0}else if(k.Bi){if(this.Sb.ze(a.ub,0,0,a.width,a.height),k.Bi.df(this.Sb,-(g+f.left),-(e+f.top)))return l.length=0,!0}else return l.length=0,!0;l.length=0;return!1};b.prototype.Ll=function(d,a){if(!a)return!1;var b,c,k,f,l;b=0;for(c=d.ba.length;b<c;b++)if(d.ba[b].behavior instanceof a)return!0;if(!d.H)for(b=0,c=d.V.length;b<
c;b++)for(l=d.V[b],k=0,f=l.ba.length;k<f;k++)if(l.ba[k].behavior instanceof a)return!0;return!1};b.prototype.Ml=function(a){return this.Ll(a,Qb.aq)};b.prototype.hj=function(a){return this.Ll(a,Qb.bq)};var v=[];b.prototype.Dc=function(a){var b,c,k;a.ea();this.Sn(a.g,a.ha,v);b=0;for(c=v.length;b<c;++b)if(k=v[b],k.U.solidEnabled&&this.Ce(a,k))return v.length=0,k;v.length=0;return null};b.prototype.Yo=function(a,b,c,k){k=k||50;var f=a.x,l=a.y,q,g=null,e=null;for(q=0;q<k;q++)if(a.x=f+b*q,a.y=l+c*q,a.L(),
!this.Ce(a,g)&&((g=this.Dc(a))&&(e=g),!g&&!g))return e&&this.Wo(a,b,c,e),!0;a.x=f;a.y=l;a.L();return!1};b.prototype.Wo=function(a,b,c,k){var f=2,l,q=!1;l=!1;for(var g=a.x,e=a.y;16>=f;)l=1/f,f*=2,a.x+=b*l*(q?1:-1),a.y+=c*l*(q?1:-1),a.L(),this.Ce(a,k)?l=q=!0:(l=q=!1,g=a.x,e=a.y);l&&(a.x=g,a.y=e,a.L())};b.prototype.Fi=function(a,b){var c=da(b)?100:b,k=0,f=a.x,l=a.y,q=0,g=0,e=0,h=this.Dc(a);if(!h)return!0;for(;k<=c;){switch(q){case 0:g=0;e=-1;k++;break;case 1:g=1;e=-1;break;case 2:g=1;e=0;break;case 3:e=
g=1;break;case 4:g=0;e=1;break;case 5:g=-1;e=1;break;case 6:g=-1;e=0;break;case 7:e=g=-1}q=(q+1)%8;a.x=Q(f+g*k);a.y=Q(l+e*k);a.L();if(!this.Ce(a,h)&&(h=this.Dc(a),!h))return!0}a.x=f;a.y=l;a.L();return!1};b.prototype.ml=function(a,b){a.pc&&b.pc&&this.nl.push([a,b])};b.prototype.wm=function(a,b,c){var k=a.x,f=a.y,l=la(10,Ja(b,c,k,f)),q=Ga(b,c,k,f),g=this.Dc(a);if(!g)return T(q+pa);var e=g,h,p,v,n,m=S(5);for(h=1;36>h;h++)if(p=q-h*m,a.x=b+Math.cos(p)*l,a.y=c+Math.sin(p)*l,a.L(),!this.Ce(a,e)&&(e=this.Dc(a),
!e)){v=p;break}36===h&&(v=T(q+pa));e=g;for(h=1;36>h;h++)if(p=q+h*m,a.x=b+Math.cos(p)*l,a.y=c+Math.sin(p)*l,a.L(),!this.Ce(a,e)&&(e=this.Dc(a),!e)){n=p;break}36===h&&(n=T(q+pa));a.x=k;a.y=f;a.L();if(n===v)return n;a=Ha(n,v)/2;a=U(n,v)?T(v+a+pa):T(n+a);v=Math.cos(q);q=Math.sin(q);n=Math.cos(a);a=Math.sin(a);b=v*n+q*a;return Ga(0,0,v-2*b*n,q-2*b*a)};var ra=-1;b.prototype.trigger=function(a,b,c){if(!this.T)return!1;var k=this.T.Ue;if(!k)return!1;var f=!1,l,q,g;ra++;var e=k.Ch;q=0;for(g=e.length;q<g;++q)l=
this.Il(a,b,e[q],c),f=f||l;l=this.Il(a,b,k,c);ra--;return f||l};b.prototype.Il=function(a,b,c,k){var f=!1,l,q,g,e;if(b)for(g=this.fj(a,b,b.type.name,c,k),f=f||g,e=b.type.V,l=0,q=e.length;l<q;++l)g=this.fj(a,b,e[l].name,c,k),f=f||g;else g=this.fj(a,b,"system",c,k),f=f||g;return f};b.prototype.fj=function(a,b,c,k,f){var l,q=!1,g=!1,g="undefined"!==typeof f,e=(g?k.Nj:k.Jl)[c];if(!e)return q;var h=null;k=0;for(l=e.length;k<l;++k)if(e[k].method==a){h=e[k].Ve;break}if(!h)return q;a=g?h[f]:h;if(!a)return null;
k=0;for(l=a.length;k<l;k++)f=a[k][0],g=a[k][1],g=this.yn(b,c,f,g),q=q||g;return q};b.prototype.yn=function(a,b,c,k){var f,l,q=!1;this.gj++;var g=this.Wa().Jb;g&&this.wf(g.fd);var e=1<this.gj;this.wf(c.fd);e&&this.Xo();var h=this.Ei(c);h.Jb=c;a&&(f=this.types[b].W(),f.da=!1,f.c.length=1,f.c[0]=a,this.types[b].pd());a=!0;if(c.parent){b=h.Dl;for(f=c.parent;f;)b.push(f),f=f.parent;b.reverse();f=0;for(l=b.length;f<l;f++)if(!b[f].dp()){a=!1;break}}a&&(this.eg++,c.fc?c.cp(k):c.oa(),q=q||h.Jd);this.fl();
e&&this.Po();this.ve(c.fd);g&&this.ve(g.fd);this.Wc&&0===this.yc&&0===ra&&!this.fi&&this.Ea();this.gj--;return q};b.prototype.Gn=function(){var a=this.Wa();return a.Jb.Fa[a.Pa]};b.prototype.Xo=function(){this.Fg++;this.Fg>=this.pi.length&&this.pi.push([])};b.prototype.Po=function(){this.Fg--};b.prototype.Sj=function(){return this.pi[this.Fg]};b.prototype.Ei=function(a){this.dg++;this.dg>=this.Fh.length&&this.Fh.push(new Db);var b=this.Wa();b.reset(a);return b};b.prototype.fl=function(){this.dg--};
b.prototype.Wa=function(){return this.Fh[this.dg]};b.prototype.Tj=function(a,b){for(var c,k,f,l,q,g;b;){c=0;for(k=b.Eb.length;c<k;c++)if(g=b.Eb[c],g instanceof Eb&&$a(a,g.name))return g;b=b.parent}c=0;for(k=this.tc.length;c<k;c++)for(q=this.tc[c],f=0,l=q.Tc.length;f<l;f++)if(g=q.Tc[f],g instanceof Eb&&$a(a,g.name))return g;return null};b.prototype.Vj=function(a){var b,c;b=0;for(c=this.Pb.length;b<c;b++)if(this.Pb[b].G===a)return this.Pb[b];return null};b.prototype.kg=function(a){var b,c;b=0;for(c=
this.i.length;b<c;b++)if(this.i[b].G===a)return this.i[b];return null};b.prototype.In=function(a){var b,c;b=0;for(c=this.Xd.length;b<c;b++)if(this.Xd[b].G===a)return this.Xd[b];return null};b.prototype.lo=function(){var a=this,b=this.Qi,k=this.zc,f=this.Ag,l=!1;this.Al&&(l=!0,b="__c2_continuouspreview",this.Al=!1);if(b.length){this.Ea();k=this.hp();if(window.indexedDB&&!this.Mb)u(b,k,function(){J("Saved state to IndexedDB storage ("+k.length+" bytes)");a.zc=k;a.trigger(Z.prototype.S.jh,null);a.zc=
"";l&&s()},function(c){try{localStorage.setItem("__c2save_"+b,k),J("Saved state to WebStorage ("+k.length+" bytes)"),a.zc=k,a.trigger(Z.prototype.S.jh,null),a.zc="",l&&s()}catch(f){J("Failed to save game state: "+c+"; "+f)}});else try{localStorage.setItem("__c2save_"+b,k),J("Saved state to WebStorage ("+k.length+" bytes)"),a.zc=k,this.trigger(Z.prototype.S.jh,null),a.zc="",l&&s()}catch(q){J("Error saving to WebStorage: "+q)}this.La=this.Ag=this.Qi=""}f.length&&(window.indexedDB&&!this.Mb?c(f,function(b){b?
(a.La=b,J("Loaded state from IndexedDB storage ("+a.La.length+" bytes)")):(a.La=localStorage.getItem("__c2save_"+f)||"",J("Loaded state from WebStorage ("+a.La.length+" bytes)"));a.Ef=!1;a.La.length||a.trigger(Z.prototype.S.ih,null)},function(){a.La=localStorage.getItem("__c2save_"+f)||"";J("Loaded state from WebStorage ("+a.La.length+" bytes)");a.Ef=!1;a.La.length||a.trigger(Z.prototype.S.ih,null)}):(this.La=localStorage.getItem("__c2save_"+f)||"",J("Loaded state from WebStorage ("+this.La.length+
" bytes)"),this.Ef=!1,a.La.length||a.trigger(Z.prototype.S.ih,null)),this.Qi=this.Ag="");this.La.length&&(this.Ea(),this.Bo(this.La),this.zc=this.La,this.trigger(Z.prototype.S.mm,null),this.La=this.zc="")};b.prototype.hp=function(){var a,b,c,k,f,l,q,g={c2save:!0,version:1,rt:{time:this.Gd.Ba,walltime:this.hh.Ba,timescale:this.De,tickcount:this.Gf,execcount:this.eg,next_uid:this.tf,running_layout:this.T.G,start_time_offset:Date.now()-this.Wg},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};
a=0;for(b=this.i.length;a<b;a++)if(f=this.i[a],!f.H&&!this.Ml(f)){l={instances:[]};La(f.U)&&(l.ex=n(f.U));c=0;for(k=f.c.length;c<k;c++)l.instances.push(this.Pi(f.c[c]));g.types[f.G.toString()]=l}a=0;for(b=this.Pb.length;a<b;a++)c=this.Pb[a],g.layouts[c.G.toString()]=c.Bb();k=g.events.groups;a=0;for(b=this.Xd.length;a<b;a++)c=this.Xd[a],k[c.G.toString()]=this.mg[c.Ze].lg;b=g.events.cnds;for(q in this.$d)this.$d.hasOwnProperty(q)&&(a=this.$d[q],La(a.U)&&(b[q]={ex:n(a.U)}));b=g.events.acts;for(q in this.Wd)this.Wd.hasOwnProperty(q)&&
(a=this.Wd[q],La(a.U)&&(b[q]={ex:a.U}));b=g.events.vars;for(q in this.Ge)this.Ge.hasOwnProperty(q)&&(a=this.Ge[q],a.pg||a.parent&&!a.gf||(b[q]=a.data));g.system=this.kc.Bb();return JSON.stringify(g)};b.prototype.ll=function(){var a,b,c,k,f,l;this.ad={};a=0;for(b=this.i.length;a<b;a++)if(c=this.i[a],!c.H)for(k=0,f=c.c.length;k<f;k++)l=c.c[k],this.ad[l.uid.toString()]=l};b.prototype.Bo=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.Gd.reset();this.Gd.Ba=b.time;this.hh.reset();
this.hh.Ba=b.walltime||0;this.De=b.timescale;this.Gf=b.tickcount;this.eg=b.execcount;this.Wg=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.T.G)if(c=this.Vj(c))this.Ij(c);else return;var k,f,l,q,g,e,h;e=a.types;for(f in e)if(e.hasOwnProperty(f)&&(q=this.kg(parseInt(f,10)))&&!q.H&&!this.Ml(q)){e[f].ex?q.U=e[f].ex:Ma(q.U);g=q.c;l=e[f].instances;c=0;for(k=oa(g.length,l.length);c<k;c++)this.Bg(g[c],l[c]);c=l.length;for(k=g.length;c<k;c++)this.Sd(g[c]);c=g.length;for(k=l.length;c<k;c++){g=
null;if(q.Ma.Yc&&(g=this.T.jg(l[c].w.l),!g))continue;g=this.rd(q.Xb,g,!1,0,0,!0);this.Bg(g,l[c])}q.Be=!0}this.Ea();this.ll();k=a.layouts;for(f in k)k.hasOwnProperty(f)&&(c=this.Vj(parseInt(f,10)))&&c.ec(k[f]);k=a.events.groups;for(f in k)k.hasOwnProperty(f)&&(c=this.In(parseInt(f,10)))&&this.mg[c.Ze]&&(this.mg[c.Ze].lg=k[f]);c=a.events.cnds;for(f in c)c.hasOwnProperty(f)&&this.$d.hasOwnProperty(f)&&(this.$d[f].U=c[f].ex);c=a.events.acts;for(f in c)c.hasOwnProperty(f)&&this.Wd.hasOwnProperty(f)&&(this.Wd[f].U=
c[f].ex);c=a.events.vars;for(f in c)c.hasOwnProperty(f)&&this.Ge.hasOwnProperty(f)&&(this.Ge[f].data=c[f]);this.tf=b.next_uid;this.kc.ec(a.system);c=0;for(k=this.i.length;c<k;c++)if(q=this.i[c],!q.H)for(f=0,a=q.c.length;f<a;f++){g=q.c[f];if(q.Ob)for(e=g.Ye(),b=g.siblings.length=0,l=q.Ua.length;b<l;b++)h=q.Ua[b],q!==h&&g.siblings.push(h.c[e]);g.md&&g.md();if(g.u)for(b=0,l=g.u.length;b<l;b++)e=g.u[b],e.md&&e.md()}this.R=!0}};b.prototype.Pi=function(a,b){var c,f,k,l,q;l=a.type;k=l.Ma;var g={};b?g.c2=
!0:g.uid=a.uid;La(a.U)&&(g.ex=n(a.U));if(a.ia&&a.ia.length)for(g.ivs={},c=0,f=a.ia.length;c<f;c++)g.ivs[a.type.bi[c].toString()]=a.ia[c];if(k.Yc){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.g.G,zi:a.ac()};0!==a.d&&(k.a=a.d);1!==a.opacity&&(k.o=a.opacity);.5!==a.Ya&&(k.hX=a.Ya);.5!==a.Za&&(k.hY=a.Za);0!==a.Oa&&(k.bm=a.Oa);a.visible||(k.v=a.visible);a.pc||(k.ce=a.pc);-1!==a.sf&&(k.mts=a.sf);if(l.q.length)for(k.fx=[],c=0,f=l.q.length;c<f;c++)q=l.q[c],k.fx.push({name:q.name,active:a.Mc[q.index],params:a.Y[q.index]});
g.w=k}if(a.u&&a.u.length)for(g.behs={},c=0,f=a.u.length;c<f;c++)l=a.u[c],l.Bb&&(g.behs[l.type.G.toString()]=l.Bb());a.Bb&&(g.data=a.Bb());return g};b.prototype.Kn=function(a,b){var c,f;c=0;for(f=a.bi.length;c<f;c++)if(a.bi[c]===b)return c;return-1};b.prototype.En=function(a,b){var c,f;c=0;for(f=a.u.length;c<f;c++)if(a.u[c].type.G===b)return c;return-1};b.prototype.Bg=function(a,b,c){var f,k,l,q,g;g=a.type;l=g.Ma;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.U=b.ex:Ma(a.U);if(k=b.ivs)for(f in k)k.hasOwnProperty(f)&&
(c=this.Kn(g,parseInt(f,10)),0>c||c>=a.ia.length||(a.ia[c]=k[f]));if(l.Yc){l=b.w;a.g.G!==l.l&&(c=a.g,a.g=this.T.jg(l.l),a.g?(c.we(a,!0),a.g.Ke(a,!0),a.L(),a.g.zf(0)):(a.g=c,this.Sd(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.Vb=l.zi;a.d=l.hasOwnProperty("a")?l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.Ya=l.hasOwnProperty("hX")?l.hX:.5;a.Za=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.pc=l.hasOwnProperty("ce")?l.ce:!0;a.sf=l.hasOwnProperty("mts")?l.mts:-1;a.Oa=l.hasOwnProperty("bm")?
l.bm:0;a.Pe=Xa(a.Oa);this.e&&Ya(a,a.Oa,this.e);a.L();if(l.hasOwnProperty("fx"))for(c=0,k=l.fx.length;c<k;c++)q=g.Sh(l.fx[c].name),0>q||(a.Mc[q]=l.fx[c].active,a.Y[q]=l.fx[c].params);a.Hc()}if(g=b.behs)for(f in g)g.hasOwnProperty(f)&&(l=this.En(a,parseInt(f,10)),0>l||a.u[l].ec(g[f]));b.data&&a.ec(b.data)};Fb=function(a){return new b(document.getElementById(a))};Gb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=Fb;window.cr_createDCRuntime=Gb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Tq=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var m=document.getElementById("c2canvas");return m?m.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(m,h){if(0!==m&&0!==h){var b=window.cr_getC2Runtime();b&&b.setSize(m,h)}};window.cr_setSuspended=function(m){var h=window.cr_getC2Runtime();h&&h.setSuspended(m)};
(function(){function m(a,b){this.b=a;this.Ue=null;this.scrollX=this.b.la/2;this.scrollY=this.b.ka/2;this.scale=1;this.d=0;this.de=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Nl=b[3];this.yl=b[4];this.G=b[5];var c=b[6],f,g;this.B=[];this.cf=[];f=0;for(g=c.length;f<g;f++){var e=new Hb(this,c[f]);e.Uk=f;this.B.push(e)}c=b[7];this.Ad=[];f=0;for(g=c.length;f<g;f++){var e=c[f],l=this.b.i[e[1]];l.Xb||(l.Xb=e);this.Ad.push(e);-1===this.cf.indexOf(l)&&this.cf.push(l)}this.q=[];this.I=[];this.Y=
[];f=0;for(g=b[8].length;f<g;f++)this.q.push({id:b[8][f][0],name:b[8][f][1],Aa:-1,gb:!0,index:f}),this.Y.push(b[8][f][2].slice(0));this.Hc();this.Hi=new R(0,0,1,1);this.Ii=new R(0,0,1,1);this.bd={}}function h(a,b){return a.Vb-b.Vb}function b(a,b){this.ja=a;this.b=a.b;this.c=[];this.scale=1;this.d=0;this.td=!1;this.Fc=new R(0,0,0,0);this.Hl=new ta;this.va=this.ga=this.wa=this.fa=0;this.Rd=!1;this.Kc=-1;this.name=b[0];this.index=b[1];this.G=b[2];this.visible=b[3];this.Oc=b[4];this.Gc=b[5];this.Ac=b[6];
this.Bc=b[7];this.opacity=b[8];this.Kh=b[9];this.Ub=b[10];this.Lf=b[11];this.Oa=b[12];this.Xm=b[13];this.Pe="source-over";this.Ga=this.Ia=0;this.ab=null;this.me=e();this.Cc=!0;this.tg=new R(0,0,-1,-1);this.xb=new R(0,0,-1,-1);this.Ub&&(this.ab=new Wa(this.b.la,this.b.ka));this.cd=!1;var c=b[14],f,g;this.ee=[];f=0;for(g=c.length;f<g;f++){var h=c[f],l=this.b.i[h[1]];l.Xb||(l.Xb=h,l.Fm=this.index);this.ee.push(h);-1===this.ja.cf.indexOf(l)&&this.ja.cf.push(l)}this.q=[];this.I=[];this.Y=[];f=0;for(g=
b[15].length;f<g;f++)this.q.push({id:b[15][f][0],name:b[15][f][1],Aa:-1,gb:!0,index:f}),this.Y.push(b[15][f][2].slice(0));this.Hc();this.Hi=new R(0,0,1,1);this.Ii=new R(0,0,1,1)}function e(){return n.length?n.pop():[]}function u(a){a.length=0;n.push(a)}m.prototype.gp=function(a){var b=a.type.G.toString();this.bd.hasOwnProperty(b)||(this.bd[b]=[]);this.bd[b].push(this.b.Pi(a))};m.prototype.$j=function(){var a=this.B[0];return!a.Gc&&1===a.opacity&&!a.Kh&&a.visible};m.prototype.Hc=function(){this.I.length=
0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.gb&&this.I.push(c)};m.prototype.Rh=function(a){var b,c,f;b=0;for(c=this.q.length;b<c;b++)if(f=this.q[b],f.name===a)return f;return null};var c=[],s=!0;m.prototype.aj=function(){this.yl&&(this.Ue=this.b.Gh[this.yl],this.Ue.Sl());this.b.T=this;this.scrollX=this.b.la/2;this.scrollY=this.b.ka/2;var a,b,g,f,e,p,l;a=0;for(g=this.b.i.length;a<g;a++)if(b=this.b.i[a],!b.H)for(e=b.c,b=0,f=e.length;b<f;b++)if(p=e[b],p.g){var v=p.g.Uk;v>=this.B.length&&
(v=this.B.length-1);p.g=this.B[v];-1===p.g.c.indexOf(p)&&p.g.c.push(p);p.g.Rd=!0}if(!s)for(a=0,g=this.B.length;a<g;++a)this.B[a].c.sort(h);c.length=0;this.um();a=0;for(g=this.B.length;a<g;a++)p=this.B[a],p.Dm(),p.jj();e=!1;if(!this.de){for(l in this.bd)if(this.bd.hasOwnProperty(l)&&(b=this.b.kg(parseInt(l,10)))&&!b.H&&this.b.hj(b)){f=this.bd[l];a=0;for(g=f.length;a<g;a++){p=null;if(b.Ma.Yc&&(p=this.jg(f[a].w.l),!p))continue;p=this.b.rd(b.Xb,p,!1,0,0,!0);this.b.Bg(p,f[a]);e=!0;c.push(p)}f.length=0}a=
0;for(g=this.B.length;a<g;a++)this.B[a].c.sort(h),this.B[a].Rd=!0}e&&(this.b.Ea(),this.b.ll());for(a=0;a<c.length;a++)if(p=c[a],p.type.Ob)for(g=p.Ye(),b=0,f=p.type.Ua.length;b<f;b++)l=p.type.Ua[b],p.type!==l&&(l.c.length>g?p.siblings.push(l.c[g]):l.Xb&&(e=this.b.rd(l.Xb,p.g,!0,p.x,p.y,!0),this.b.Ea(),l.fh(),p.siblings.push(e),c.push(e)));a=0;for(g=this.Ad.length;a<g;a++)this.b.rd(this.Ad[a],null,!0);this.b.wh=null;this.b.Ea();if(this.b.O&&!this.b.Ja)for(a=0,g=this.b.i.length;a<g;a++)l=this.b.i[a],
!l.H&&l.c.length&&l.hl&&l.hl(this.b.O);a=0;for(g=c.length;a<g;a++)p=c[a],this.b.trigger(Object.getPrototypeOf(p.type.Ma).S.im,p);c.length=0;this.b.trigger(Z.prototype.S.lm,null);this.de=!1};m.prototype.Cm=function(){var a,b,c,f,g;b=a=0;for(c=this.Ad.length;a<c;a++)f=this.Ad[a],g=this.b.i[f[1]],g.global?this.b.rd(f,null,!0):(this.Ad[b]=f,b++);this.Ad.length=b};m.prototype.mp=function(){this.b.trigger(Z.prototype.S.km,null);this.b.kc.cb.length=0;var a,b,c,f,g,e;if(!this.de)for(a=0,b=this.B.length;a<
b;a++)for(this.B[a].kj(),g=this.B[a].c,c=0,f=g.length;c<f;c++)e=g[c],e.type.global||this.b.hj(e.type)&&this.gp(e);a=0;for(b=this.B.length;a<b;a++){g=this.B[a].c;c=0;for(f=g.length;c<f;c++)e=g[c],e.type.global||this.b.Sd(e);this.b.Ea();g.length=0;this.B[a].Rd=!0}a=0;for(b=this.b.i.length;a<b;a++)if(g=this.b.i[a],!(g.global||g.Ma.Yc||g.Ma.Ug||g.H)){c=0;for(f=g.c.length;c<f;c++)this.b.Sd(g.c[c]);this.b.Ea()}s=!1};new R(0,0,0,0);m.prototype.ud=function(a){var b,c=a,f=!1,g=!this.b.yb;g&&(this.b.yg||(this.b.yg=
document.createElement("canvas"),b=this.b.yg,b.width=this.b.F,b.height=this.b.D,this.b.wk=b.getContext("2d"),f=!0),b=this.b.yg,c=this.b.wk,b.width!==this.b.F&&(b.width=this.b.F,f=!0),b.height!==this.b.D&&(b.height=this.b.D,f=!0),f&&(c.webkitImageSmoothingEnabled=this.b.N,c.mozImageSmoothingEnabled=this.b.N,c.msImageSmoothingEnabled=this.b.N,c.imageSmoothingEnabled=this.b.N));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.lh&&!this.$j()&&c.clearRect(0,0,this.b.F,this.b.D);var e,l,
f=0;for(e=this.B.length;f<e;f++)l=this.B[f],l.visible&&0<l.opacity&&11!==l.Oa&&(l.c.length||!l.Gc)?l.ud(c):l.jj();g&&a.drawImage(b,0,0,this.b.width,this.b.height)};m.prototype.Yb=function(a){var b=0<this.I.length||this.b.Ee||!this.b.yb;if(b){this.b.$a||(this.b.$a=a.Sc(this.b.F,this.b.D,this.b.N));if(this.b.$a.Oe!==this.b.F||this.b.$a.Ne!==this.b.D)a.deleteTexture(this.b.$a),this.b.$a=a.Sc(this.b.F,this.b.D,this.b.N);a.ic(this.b.$a);this.b.yb||a.ye(this.b.F,this.b.D)}else this.b.$a&&(a.ic(null),a.deleteTexture(this.b.$a),
this.b.$a=null);this.b.lh&&!this.$j()&&a.clear(0,0,0,0);var c,f,g;c=0;for(f=this.B.length;c<f;c++)g=this.B[c],g.visible&&0<g.opacity&&(g.c.length||!g.Gc)?g.Yb(a):g.jj();b&&(0===this.I.length||1===this.I.length&&this.b.yb?(1===this.I.length?(b=this.I[0].index,a.jc(this.I[0].Aa),a.xe(null,1/this.b.F,1/this.b.D,0,0,1,1,this.scale,this.d,0,0,this.b.F/2,this.b.D/2,this.Y[b]),a.Mg(this.I[0].Aa)&&(this.b.R=!0)):a.jc(0),this.b.yb||a.ye(this.b.width,this.b.height),a.ic(null),a.yf(1),a.Cb(this.b.$a),a.sl(),
a.dd(),a.kd(),b=this.b.width/2,c=this.b.height/2,a.Ng(-b,c,b,c,b,-c,-b,-c),a.Cb(null)):this.Ji(a,null,null,null))};m.prototype.Xe=function(){return 0<this.I.length||this.b.Ee||!this.b.yb?this.b.$a:null};m.prototype.Wj=function(){var a=this.B[0].Lb(),b,c,f;b=1;for(c=this.B.length;b<c;b++)f=this.B[b],(0!==f.Ac||0!==f.Bc)&&f.Lb()<a&&(a=f.Lb());return a};m.prototype.Ri=function(a){if(!this.Nl){var b=1/this.Wj()*this.b.F/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.R=
!0)};m.prototype.Si=function(a){if(!this.Nl){var b=1/this.Wj()*this.b.D/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.R=!0)};m.prototype.um=function(){this.Ri(this.scrollX);this.Si(this.scrollY)};m.prototype.Ji=function(a,b,c,f){var g=c?c.I:b?b.I:this.I,e=1,l=0,p=0,h=0,d=this.b.F,n=this.b.D;c?(e=c.g.Lb(),l=c.g.Kb(),p=c.g.fa,h=c.g.ga,d=c.g.wa,n=c.g.va):b&&(e=b.Lb(),l=b.Kb(),p=b.fa,h=b.ga,d=b.wa,n=b.va);var m=this.b.Oh,s,u,K,y,G=0,Qa=1,ea,O=this.b.F,I=this.b.D,
wa=O/2,xa=I/2,C=b?b.Hi:this.Hi,A=b?b.Ii:this.Ii,D=0,L=0,B=0,M=0,H=O,ha=O,F=I,ia=I,Y=K=0,ma=c?c.g.Kb():0;if(c){s=0;for(u=g.length;s<u;s++)K+=a.Pn(g[s].Aa),Y+=a.Qn(g[s].Aa);y=c.ha;D=b.Ka(y.left,y.top,!0,!0);B=b.Ka(y.left,y.top,!1,!0);H=b.Ka(y.right,y.bottom,!0,!0);F=b.Ka(y.right,y.bottom,!1,!0);0!==ma&&(s=b.Ka(y.right,y.top,!0,!0),u=b.Ka(y.right,y.top,!1,!0),L=b.Ka(y.left,y.bottom,!0,!0),M=b.Ka(y.left,y.bottom,!1,!0),y=Math.min(D,H,s,L),H=Math.max(D,H,s,L),D=y,y=Math.min(B,F,u,M),F=Math.max(B,F,u,M),
B=y);D-=K;B-=Y;H+=K;F+=Y;A.left=D/O;A.top=1-B/I;A.right=H/O;A.bottom=1-F/I;L=D=Q(D);M=B=Q(B);ha=H=qa(H);ia=F=qa(F);L-=K;M-=Y;ha+=K;ia+=Y;0>D&&(D=0);0>B&&(B=0);H>O&&(H=O);F>I&&(F=I);0>L&&(L=0);0>M&&(M=0);ha>O&&(ha=O);ia>I&&(ia=I);C.left=D/O;C.top=1-B/I;C.right=H/O;C.bottom=1-F/I}else C.left=A.left=0,C.top=A.top=0,C.right=A.right=1,C.bottom=A.bottom=1;Y=c&&((c.d||ma)&&a.vf(g[0].Aa)||0!==K||0!==Y||1!==c.opacity||c.type.Ma.Sk)||b&&!c&&1!==b.opacity;a.sl();if(Y){m[G]||(m[G]=a.Sc(O,I,this.b.N));if(m[G].Oe!==
O||m[G].Ne!==I)a.deleteTexture(m[G]),m[G]=a.Sc(O,I,this.b.N);a.jc(0);a.ic(m[G]);ea=ia-M;a.clearRect(L,I-M-ea,ha-L,ea);c?c.Yb(a):(a.Cb(this.b.nb),a.yf(b.opacity),a.dd(),a.translate(-wa,-xa),a.kd(),a.Pd(D,F,H,F,H,B,D,B,C));A.left=A.top=0;A.right=A.bottom=1;c&&(y=C.top,C.top=C.bottom,C.bottom=y);G=1;Qa=0}a.yf(1);K=g.length-1;var ma=a.Ci(g[K].Aa)||!b&&!c&&!this.b.yb,na=0;s=0;for(u=g.length;s<u;s++){m[G]||(m[G]=a.Sc(O,I,this.b.N));if(m[G].Oe!==O||m[G].Ne!==I)a.deleteTexture(m[G]),m[G]=a.Sc(O,I,this.b.N);
a.jc(g[s].Aa);na=g[s].index;a.Mg(g[s].Aa)&&(this.b.R=!0);0!=s||Y?(a.xe(f,1/O,1/I,A.left,A.top,A.right,A.bottom,e,l,p,h,(p+d)/2,(h+n)/2,c?c.Y[na]:b?b.Y[na]:this.Y[na]),a.Cb(null),s!==K||ma?(a.ic(m[G]),ea=ia-M,y=I-M-ea,a.clearRect(L,y,ha-L,ea)):(c?a.ed(c.Ia,c.Ga):b&&a.ed(b.Ia,b.Ga),a.ic(f)),a.Cb(m[Qa]),a.dd(),a.translate(-wa,-xa),a.kd(),a.Pd(D,F,H,F,H,B,D,B,C),s!==K||ma||a.Cb(null)):(a.ic(m[G]),ea=ia-M,y=I-M-ea,a.clearRect(L,y,ha-L,ea),c?(a.xe(f,1/c.width,1/c.height,A.left,A.top,A.right,A.bottom,e,
l,p,h,(p+d)/2,(h+n)/2,c.Y[na]),c.Yb(a)):(a.xe(f,1/O,1/I,0,0,1,1,e,l,p,h,(p+d)/2,(h+n)/2,b?b.Y[na]:this.Y[na]),a.Cb(b?this.b.nb:this.b.$a),a.dd(),a.translate(-wa,-xa),a.kd(),a.Pd(D,F,H,F,H,B,D,B,C)),A.left=A.top=0,A.right=A.bottom=1,c&&!ma&&(y=F,F=B,B=y));G=0===G?1:0;Qa=0===G?1:0}ma&&(a.jc(0),c?a.ed(c.Ia,c.Ga):b?a.ed(b.Ia,b.Ga):this.b.yb||(a.ye(this.b.width,this.b.height),wa=this.b.width/2,xa=this.b.height/2,B=D=0,H=this.b.width,F=this.b.height),a.ic(f),a.Cb(m[Qa]),a.dd(),a.translate(-wa,-xa),a.kd(),
c&&1===g.length&&!Y?a.Pd(D,B,H,B,H,F,D,F,C):a.Pd(D,F,H,F,H,B,D,B,C),a.Cb(null))};m.prototype.jg=function(a){var b,c;b=0;for(c=this.B.length;b<c;b++)if(this.B[b].G===a)return this.B[b];return null};m.prototype.Bb=function(){var a,b,c,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.d,w:this.width,h:this.height,fv:this.de,persist:this.bd,fx:[],layers:{}};a=0;for(b=this.q.length;a<b;a++)c=this.q[a],f.fx.push({name:c.name,active:c.gb,params:this.Y[c.index]});a=0;for(b=this.B.length;a<b;a++)c=this.B[a],
f.layers[c.G.toString()]=c.Bb();return f};m.prototype.ec=function(a){var b,c,f,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.d=a.a;this.width=a.w;this.height=a.h;this.bd=a.persist;"undefined"!==typeof a.fv&&(this.de=a.fv);var e=a.fx;b=0;for(c=e.length;b<c;b++)if(f=this.Rh(e[b].name))f.gb=e[b].active,this.Y[f.index]=e[b].params;this.Hc();b=a.layers;for(g in b)b.hasOwnProperty(g)&&(a=this.jg(parseInt(g,10)))&&a.ec(b[g])};tb=m;b.prototype.Hc=function(){this.I.length=0;var a,b,c;a=0;for(b=
this.q.length;a<b;a++)c=this.q[a],c.gb&&this.I.push(c)};b.prototype.Rh=function(a){var b,c,f;b=0;for(c=this.q.length;b<c;b++)if(f=this.q[b],f.name===a)return f;return null};b.prototype.Dm=function(){var a,b,g,f,e,p;b=a=0;for(g=this.ee.length;a<g;a++){f=this.ee[a];e=this.b.i[f[1]];p=this.b.hj(e);e=!0;if(!p||this.ja.de)f=this.b.rd(f,this,!0),c.push(f),f.type.global&&(e=!1);e&&(this.ee[b]=this.ee[a],b++)}this.ee.length=b;this.b.Ea();!this.b.p&&this.q.length&&(this.Oa=this.Xm);this.Pe=Xa(this.Oa);this.b.e&&
Ya(this,this.Oa,this.b.e);this.Cc=!0};b.prototype.we=function(a,b){var c=Aa(this.c,a);0>c||(b&&this.Ub&&a.Ra&&a.Ra.right>=a.Ra.left&&(a.ea(),this.ab.update(a,a.Ra,null),a.Ra.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(va(this.c,c),this.zf(c)),this.Cc=!0)};b.prototype.Ke=function(a,b){a.Vb=this.c.length;this.c.push(a);b&&this.Ub&&a.Ra&&a.L();this.Cc=!0};b.prototype.To=function(a){this.c.unshift(a);this.zf(0)};b.prototype.Go=function(a,b,c){var f=a.ac();b=b.ac();va(this.c,f);f<b&&b--;c&&b++;b===
this.c.length?this.c.push(a):this.c.splice(b,0,a);this.zf(f<b?f:b)};b.prototype.zf=function(a){-1===this.Kc?this.Kc=a:a<this.Kc&&(this.Kc=a);this.Cc=this.Rd=!0};b.prototype.kj=function(){if(this.Rd){-1===this.Kc&&(this.Kc=0);var a,b,c;if(this.Ub)for(a=this.Kc,b=this.c.length;a<b;++a)c=this.c[a],c.Vb=a,this.ab.Eo(c.Ra);else for(a=this.Kc,b=this.c.length;a<b;++a)this.c[a].Vb=a;this.Rd=!1;this.Kc=-1}};b.prototype.Lb=function(a){return this.Nn()*(this.b.yb||a?this.b.Le:1)};b.prototype.Nn=function(){return(this.scale*
this.ja.scale-1)*this.Lf+1};b.prototype.Kb=function(){return this.td?0:T(this.ja.d+this.d)};var n=[],p=[],g=[];b.prototype.Yj=function(){this.kj();this.ab.Og(this.fa,this.ga,this.wa,this.va,g);if(!g.length)return e();if(1===g.length){var a=e();ya(a,g[0]);g.length=0;return a}for(var b=!0;1<g.length;){for(var a=g,c=void 0,f=void 0,h=void 0,n=void 0,l=void 0,c=0,f=a.length;c<f-1;c+=2){var h=a[c],n=a[c+1],l=e(),v=h,m=n,d=l,r=0,s=0,x=0,ga=v.length,K=m.length,y=void 0,G=void 0;for(d.length=ga+K;r<ga&&s<
K;++x)y=v[r],G=m[s],y.Vb<G.Vb?(d[x]=y,++r):(d[x]=G,++s);for(;r<ga;++r,++x)d[x]=v[r];for(;s<K;++s,++x)d[x]=m[s];b||(u(h),u(n));p.push(l)}1===f%2&&(b?(h=e(),ya(h,a[f-1]),p.push(h)):p.push(a[f-1]));ya(a,p);p.length=0;b=!1}a=g[0];g.length=0;return a};b.prototype.ud=function(a){this.cd=this.Kh||1!==this.opacity||0!==this.Oa;var b=this.b.canvas,c=a,f=!1;this.cd&&(this.b.xg||(this.b.xg=document.createElement("canvas"),b=this.b.xg,b.width=this.b.F,b.height=this.b.D,this.b.vk=b.getContext("2d"),f=!0),b=this.b.xg,
c=this.b.vk,b.width!==this.b.F&&(b.width=this.b.F,f=!0),b.height!==this.b.D&&(b.height=this.b.D,f=!0),f&&(c.webkitImageSmoothingEnabled=this.b.N,c.mozImageSmoothingEnabled=this.b.N,c.msImageSmoothingEnabled=this.b.N,c.imageSmoothingEnabled=this.b.N),this.Gc&&c.clearRect(0,0,this.b.F,this.b.D));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Gc||(c.fillStyle="rgb("+this.Oc[0]+","+this.Oc[1]+","+this.Oc[2]+")",c.fillRect(0,0,this.b.F,this.b.D));c.save();this.td=!0;var f=this.Zd(!0),g=
this.Zd(!1);this.td=!1;this.b.ue&&(f=Math.round(f),g=Math.round(g));this.Li(f,g,c);var e=this.Lb();c.scale(e,e);c.translate(-f,-g);this.Ub?(this.xb.left=this.ab.eb(this.fa),this.xb.top=this.ab.fb(this.ga),this.xb.right=this.ab.eb(this.wa),this.xb.bottom=this.ab.fb(this.va),this.Cc||!this.xb.cg(this.tg)?(u(this.me),f=this.Yj(),this.Cc=!1,this.tg.Wf(this.xb)):f=this.me):f=this.c;for(var l,p=null,g=0,e=f.length;g<e;++g)l=f[g],l!==p&&(this.Um(l,c),p=l);this.Ub&&(this.me=f);c.restore();this.cd&&(a.globalCompositeOperation=
this.Pe,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.Um=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var c=a.ha;c.right<this.fa||c.bottom<this.ga||c.left>this.wa||c.top>this.va||(b.globalCompositeOperation=a.Pe,a.ud(b))}};b.prototype.jj=function(){this.td=!0;var a=this.Zd(!0),b=this.Zd(!1);this.td=!1;this.b.ue&&(a=Math.round(a),b=Math.round(b));this.Li(a,b,null)};b.prototype.Li=function(a,b,c){var f=this.Lb();this.fa=a;this.ga=b;this.wa=a+1/f*this.b.F;this.va=b+1/f*
this.b.D;a=this.Kb();0!==a&&(c&&(c.translate(this.b.F/2,this.b.D/2),c.rotate(-a),c.translate(this.b.F/-2,this.b.D/-2)),this.Fc.set(this.fa,this.ga,this.wa,this.va),this.Fc.offset((this.fa+this.wa)/-2,(this.ga+this.va)/-2),this.Hl.wl(this.Fc,a),this.Hl.wj(this.Fc),this.Fc.offset((this.fa+this.wa)/2,(this.ga+this.va)/2),this.fa=this.Fc.left,this.ga=this.Fc.top,this.wa=this.Fc.right,this.va=this.Fc.bottom)};b.prototype.Yb=function(a){var b=0,c=0;if(this.cd=this.Kh||1!==this.opacity||0<this.I.length||
0!==this.Oa){this.b.nb||(this.b.nb=a.Sc(this.b.F,this.b.D,this.b.N));if(this.b.nb.Oe!==this.b.F||this.b.nb.Ne!==this.b.D)a.deleteTexture(this.b.nb),this.b.nb=a.Sc(this.b.F,this.b.D,this.b.N);a.ic(this.b.nb);this.Gc&&a.clear(0,0,0,0)}this.Gc||a.clear(this.Oc[0]/255,this.Oc[1]/255,this.Oc[2]/255,1);this.td=!0;var f=this.Zd(!0),b=this.Zd(!1);this.td=!1;this.b.ue&&(f=Math.round(f),b=Math.round(b));this.Li(f,b,null);f=this.Lb();a.dd();a.scale(f,f);a.pl(-this.Kb());a.translate((this.fa+this.wa)/-2,(this.ga+
this.va)/-2);a.kd();this.Ub?(this.xb.left=this.ab.eb(this.fa),this.xb.top=this.ab.fb(this.ga),this.xb.right=this.ab.eb(this.wa),this.xb.bottom=this.ab.fb(this.va),this.Cc||!this.xb.cg(this.tg)?(u(this.me),b=this.Yj(),this.Cc=!1,this.tg.Wf(this.xb)):b=this.me):b=this.c;var g,e,l=null,c=0;for(g=b.length;c<g;++c)e=b[c],e!==l&&(this.Vm(b[c],a),l=e);this.Ub&&(this.me=b);this.cd&&(b=this.I.length?this.I[0].Aa:0,c=this.I.length?this.I[0].index:0,0===this.I.length||1===this.I.length&&!a.Ci(b)&&1===this.opacity?
(1===this.I.length?(a.jc(b),a.xe(this.ja.Xe(),1/this.b.F,1/this.b.D,0,0,1,1,f,this.Kb(),this.fa,this.ga,(this.fa+this.wa)/2,(this.ga+this.va)/2,this.Y[c]),a.Mg(b)&&(this.b.R=!0)):a.jc(0),a.ic(this.ja.Xe()),a.yf(this.opacity),a.Cb(this.b.nb),a.ed(this.Ia,this.Ga),a.dd(),a.kd(),f=this.b.F/2,b=this.b.D/2,a.Ng(-f,b,f,b,f,-b,-f,-b),a.Cb(null)):this.ja.Ji(a,this,null,this.ja.Xe()))};b.prototype.Vm=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var c=a.ha;c.right<this.fa||c.bottom<this.ga||
c.left>this.wa||c.top>this.va||(a.Ul?this.Wm(a,b):(b.jc(0),b.ed(a.Ia,a.Ga),a.Yb(b)))}};b.prototype.Wm=function(a,b){var c=a.I[0].Aa,f=a.I[0].index,g=this.Lb();if(1!==a.I.length||b.Ci(c)||b.Vo(c)||(a.d||a.g.Kb())&&b.vf(c)||1!==a.opacity||a.type.Ma.Sk)this.ja.Ji(b,this,a,this.cd?this.b.nb:this.ja.Xe()),b.dd(),b.scale(g,g),b.pl(-this.Kb()),b.translate((this.fa+this.wa)/-2,(this.ga+this.va)/-2),b.kd();else{b.jc(c);b.ed(a.Ia,a.Ga);b.Mg(c)&&(this.b.R=!0);var e=0,l=0,p=0,h=0;b.vf(c)&&(c=a.ha,e=this.Ka(c.left,
c.top,!0,!0),l=this.Ka(c.left,c.top,!1,!0),p=this.Ka(c.right,c.bottom,!0,!0),c=this.Ka(c.right,c.bottom,!1,!0),e/=windowWidth,l=1-l/windowHeight,p/=windowWidth,h=1-c/windowHeight);b.xe(this.cd?this.b.nb:this.ja.Xe(),1/a.width,1/a.height,e,l,p,h,g,this.Kb(),this.fa,this.ga,(this.fa+this.wa)/2,(this.ga+this.va)/2,a.Y[f]);a.Yb(b)}};b.prototype.Zd=function(a){var b=0,c=0,f=this.b.devicePixelRatio;this.b.Fd&&(b*=f,c*=f);var f=this.b.bl,g=this.b.cl,f=(this.ja.scrollX-f)*this.Ac+f,g=(this.ja.scrollY-g)*
this.Bc+g,e,l,p=1/this.Lb(!1);e=f-this.b.F*p/2;l=g-this.b.D*p/2;e+=b*p;l+=c*p;c=this.Kb();0!==c&&(e-=f,l-=g,b=Math.cos(c),c=Math.sin(c),p=e*b-l*c,l=l*b+e*c,e=p+f,l+=g);return a?e:l};b.prototype.Ka=function(a,b,c,f){var g=this.b.bl,e=this.b.cl,l=(this.ja.scrollX-g)*this.Ac+g,p=(this.ja.scrollY-e)*this.Bc+e,e=l,g=p,h=this.Kb();if(0!==h){a-=l;b-=p;var d=Math.cos(-h),h=Math.sin(-h),n=a*d-b*h;b=b*d+a*h;a=n+l;b+=p}l=1/this.Lb(!f);f?(e-=this.b.F*l/2,g-=this.b.D*l/2):(e-=this.b.width*l/2,g-=this.b.height*
l/2);e=(a-e)/l;g=(b-g)/l;a=this.b.devicePixelRatio;this.b.Fd&&!f&&(e/=a,g/=a);return c?e:g};b.prototype.Bb=function(){var a,b,c,f={s:this.scale,a:this.d,vl:this.fa,vt:this.ga,vr:this.wa,vb:this.va,v:this.visible,bc:this.Oc,t:this.Gc,px:this.Ac,py:this.Bc,o:this.opacity,zr:this.Lf,fx:[],instances:[]};a=0;for(b=this.q.length;a<b;a++)c=this.q[a],f.fx.push({name:c.name,active:c.gb,params:this.Y[c.index]});return f};b.prototype.ec=function(a){var b,c;this.scale=a.s;this.d=a.a;this.fa=a.vl;this.ga=a.vt;
this.wa=a.vr;this.va=a.vb;this.visible=a.v;this.Oc=a.bc;this.Gc=a.t;this.Ac=a.px;this.Bc=a.py;this.opacity=a.o;this.Lf=a.zr;var f=a.fx;a=0;for(b=f.length;a<b;a++)if(c=this.Rh(f[a].name))c.gb=f[a].active,this.Y[c.index]=f[a].params;this.Hc();this.c.sort(h);this.Rd=!0};Hb=b})();
(function(){function m(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function h(a,b){return a.index-b.index}function b(a){var b,c,d,g;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(h);a.length>=f.length&&(f.length=a.length+1);f[a.length]||(f[a.length]=[]);g=f[a.length];b=0;for(c=g.length;b<c;b++)if(d=g[b],m(a,d))return d;g.push(a);return a}
function e(a,b){this.b=a;this.Jl={};this.Nj={};this.Wh=!1;this.bk=new E;this.Ch=[];this.mh=[];this.name=b[0];var c=b[1];this.Tc=[];var d,f;d=0;for(f=c.length;d<f;d++)this.dk(c[d],null,this.Tc)}function u(a){this.type=a;this.c=[];this.K=[];this.da=!0}function c(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.aa=[];this.fd=[];this.ak=this.dh=this.ej=this.$h=this.group=this.Bl=!1;this.Fa=[];this.Gb=[];this.Eb=[];this.Ze="";this.lg=this.$h=this.group=!1;this.Dj=null;c[1]&&(this.Ze=c[1][1].toLowerCase(),
this.group=!0,this.$h=!!c[1][0],this.Dj=[],this.lg=this.$h,this.b.Xd.push(this),this.b.mg[this.Ze]=this);this.fc=c[2];this.G=c[4];this.group||(this.b.vj[this.G.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Ib(this,d[a]);f.index=a;this.Fa.push(f);this.rj(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Jb(this,d[a]),f.index=a,this.Gb.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.dk(c[a],this,this.Eb);this.qg=!1;this.Fa.length&&(this.qg=null==this.Fa[0].type&&
this.Fa[0].xa==Z.prototype.S.$l)}function s(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ob))for(c=0,d=a.Ua.length;c<d;c++)f=a.Ua[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function n(a,b){this.hb=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.P=[];this.U={};this.index=-1;this.Ie=!1;this.xa=this.b.Lc(b[1]);this.trigger=0<b[3];this.Mj=2===b[3];this.ci=b[5];this.Ao=b[6];this.G=b[7];this.b.$d[this.G.toString()]=this;-1===b[0]?(this.type=null,this.oa=this.Oi,this.qd=null,this.tb=-1):(this.type=this.b.i[b[0]],
this.oa=this.Ao?this.ep:this.Ni,b[2]?(this.qd=this.type.ig(b[2]),this.tb=this.type.Ph(b[2])):(this.qd=null,this.tb=-1),this.hb.parent&&this.hb.parent.Sg());this.Mj&&(this.oa=this.fp);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var g=new Kb(this,f[c]);this.A.push(g)}this.P.length=f.length}}function p(a,b){this.hb=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.P=[];this.U={};this.index=-1;this.Ie=!1;this.xa=this.b.Lc(b[1]);-1===b[0]?(this.type=null,this.oa=this.Oi,this.qd=null,this.tb=
-1):(this.type=this.b.i[b[0]],this.oa=this.Ni,b[2]?(this.qd=this.type.ig(b[2]),this.tb=this.type.Ph(b[2])):(this.qd=null,this.tb=-1));this.G=b[3];this.b.Wd[this.G.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var g=new Kb(this,f[c]);this.A.push(g)}this.P.length=f.length}}function g(a,b){this.k=a;this.hb=a.hb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Zb=null;this.gd=0;this.get=null;this.Cj=0;this.ja=null;this.key=0;this.object=null;this.index=0;this.If=this.Qd=
this.If=this.Qd=this.Oj=this.wd=this.Jf=null;this.Fb=!1;var c,d,f;switch(b[0]){case 0:case 7:this.Zb=new V(this,b[1]);this.gd=0;this.get=this.Yn;break;case 1:this.Zb=new V(this,b[1]);this.gd=0;this.get=this.Zn;break;case 5:this.Zb=new V(this,b[1]);this.gd=0;this.get=this.co;break;case 3:case 8:this.Cj=b[1];this.get=this.Wn;break;case 6:this.ja=this.b.li[b[1]];this.get=this.eo;break;case 9:this.key=b[1];this.get=this.bo;break;case 4:this.object=this.b.i[b[1]];this.get=this.fo;this.hb.rj(this.object);
this.k instanceof Jb?this.hb.Sg():this.hb.parent&&this.hb.parent.Sg();break;case 10:this.index=b[1];a.type.H?(this.get=this.$n,this.Fb=!0):this.get=this.ao;break;case 11:this.Jf=b[1];this.wd=null;this.get=this.Xn;break;case 2:case 12:this.Oj=b[1];this.get=this.Vn;break;case 13:for(this.get=this.ho,this.Qd=[],this.If=[],c=1,d=b.length;c<d;c++)f=new Kb(this.k,b[c]),this.Qd.push(f),this.If.push(0)}}function a(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.aa=[];this.name=c[1];this.Zh=c[3];this.gf=
!!c[4];this.pg=!!c[5];this.G=c[6];this.b.Ge[this.G.toString()]=this;this.data=this.Zh;this.parent?(this.Nd=this.gf||this.pg?-1:this.b.lp++,this.b.pm.push(this)):(this.Nd=-1,this.b.om.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.aa=[];this.bf=null;this.no=c[1];this.gb=!0}function q(){this.Dl=[];this.reset(null)}var f=[];e.prototype.toString=function(){return this.name};e.prototype.dk=function(a,b,c){switch(a[0]){case 0:a=new Lb(this,b,a);if(a.fc)for(c.push(a),c=0,b=a.Fa.length;c<
b;c++)a.Fa[c].trigger&&this.ek(a,c);else a.nk()?this.ek(a,0):c.push(a);break;case 1:a=new Eb(this,b,a);c.push(a);break;case 2:a=new Mb(this,b,a),c.push(a)}};e.prototype.Z=function(){var a,b;a=0;for(b=this.Tc.length;a<b;a++)this.Tc[a].Z(a<b-1&&this.Tc[a+1].qg)};e.prototype.Sl=function(){this.Ch.length=0;this.mh.length=0;this.qj(this);this.mh.length=0};e.prototype.qj=function(a){var b,c,d,f,g=a.Ch,e=a.mh,k=this.bk.Ic();b=0;for(c=k.length;b<c;++b)d=k[b],f=d.bf,!d.gb||a===f||-1<e.indexOf(f)||(e.push(f),
f.qj(a),g.push(f))};e.prototype.oa=function(a){this.b.Sq||(this.Wh=!0,a||(this.b.fi=!0));var b,c;b=0;for(c=this.Tc.length;b<c;b++){var d=this.Tc[b];d.oa();this.b.xh(d.aa);this.b.Wc&&this.b.Ea()}a||(this.b.fi=!1)};e.prototype.ek=function(a,b){a.fc||this.b.eh.push(a);var c,d,f=a.Fa[b],g;g=f.type?f.type.name:"system";var e=(c=f.Mj)?this.Nj:this.Jl;e[g]||(e[g]=[]);g=e[g];e=f.xa;if(c){if(f.A.length&&(f=f.A[0],1===f.type&&2===f.Zb.type)){f=f.Zb.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==
e){c=g[c].Ve;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];g.push({method:e,Ve:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==e){g[c].Ve.push([a,b]);return}Xb&&e===Xb.prototype.S.Vd?g.unshift({method:e,Ve:[[a,b]]}):g.push({method:e,Ve:[[a,b]]})}};ub=e;u.prototype.Zj=function(){return this.da?this.type.c.length:this.c.length};u.prototype.$b=function(){return this.da?this.type.c:this.c};u.prototype.uf=function(a){a&&(a.b.Wa().Jb.fc?(this.da&&(this.c.length=0,ya(this.K,a.type.c),
this.da=!1),a=this.K.indexOf(a),-1!==a&&(this.c.push(this.K[a]),this.K.splice(a,1))):(this.da=!1,this.c.length=1,this.c[0]=a))};db=u;window._c2hh_="C781983747E95E0514EC556C4C58DEA221EFCA46";c.prototype.Z=function(a){var c,f=this.parent;if(this.group)for(this.dh=!0;f;){if(!f.group){this.dh=!1;break}f=f.parent}this.ej=!this.nk()&&(!this.parent||this.parent.group&&this.parent.dh);this.ak=!!a;this.fd=this.aa.slice(0);for(f=this.parent;f;){a=0;for(c=f.aa.length;a<c;a++)this.nm(f.aa[a]);f=f.parent}this.aa=
b(this.aa);this.fd=b(this.fd);a=0;for(c=this.Fa.length;a<c;a++)this.Fa[a].Z();a=0;for(c=this.Gb.length;a<c;a++)this.Gb[a].Z();a=0;for(c=this.Eb.length;a<c;a++)this.Eb[a].Z(a<c-1&&this.Eb[a+1].qg)};c.prototype.rj=function(a){s(a,this.aa)};c.prototype.nm=function(a){s(a,this.fd)};c.prototype.Sg=function(){this.Bl=!0;this.parent&&this.parent.Sg()};c.prototype.nk=function(){return this.Fa.length?this.Fa[0].trigger:!1};c.prototype.oa=function(){var a,b=!1,c,d=this.b,f=this.b.Wa();f.Jb=this;var g=this.Fa;
this.qg||(f.Eh=!1);if(this.fc){0===g.length&&(b=!0);f.Pa=0;for(a=g.length;f.Pa<a;f.Pa++)g[f.Pa].trigger||(c=g[f.Pa].oa())&&(b=!0);(f.Jd=b)&&this.Mi()}else{f.Pa=0;for(a=g.length;f.Pa<a;f.Pa++)if(c=g[f.Pa].oa(),!c){f.Jd=!1;this.ej&&d.Wc&&d.Ea();return}f.Jd=!0;this.Mi()}this.Zm(f)};c.prototype.Zm=function(a){a.Jd&&this.ak&&(a.Eh=!0);this.ej&&this.b.Wc&&this.b.Ea()};c.prototype.cp=function(a){this.b.Wa().Jb=this;this.Fa[a].oa()&&(this.Mi(),this.b.Wa().Jd=!0)};c.prototype.Mi=function(){var a=this.b.Wa(),
b;a.sb=0;for(b=this.Gb.length;a.sb<b;a.sb++)if(this.Gb[a.sb].oa())return;this.ql()};c.prototype.$o=function(){var a=this.b.Wa(),b;for(b=this.Gb.length;a.sb<b;a.sb++)if(this.Gb[a.sb].oa())return;this.ql()};c.prototype.ql=function(){if(this.Eb.length){var a,b,c,d,f=this.Eb.length-1;this.b.Ei(this);if(this.Bl)for(a=0,b=this.Eb.length;a<b;a++)c=this.Eb[a],(d=!this.dh||!this.group&&a<f)&&this.b.Di(c.aa),c.oa(),d?this.b.ve(c.aa):this.b.xh(c.aa);else for(a=0,b=this.Eb.length;a<b;a++)this.Eb[a].oa();this.b.fl()}};
c.prototype.dp=function(){var a=this.b.Wa();a.Jb=this;var b=!1,c;a.Pa=0;for(c=this.Fa.length;a.Pa<c;a.Pa++)if(this.Fa[a.Pa].oa())b=!0;else if(!this.fc)return!1;return this.fc?b:!0};c.prototype.wo=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Fa[b].type===a.type)return!1;return!0};Lb=c;n.prototype.Z=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Z(),c.Fb&&(this.Ie=!0)};n.prototype.fp=function(){return!0};n.prototype.Oi=function(){var a,b;a=0;for(b=this.A.length;a<
b;a++)this.P[a]=this.A[a].get();return Ka(this.xa.apply(this.b.kc,this.P),this.ci)};n.prototype.ep=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.P[a]=this.A[a].get();a=this.xa.apply(this.qd?this.qd:this.type,this.P);this.type.pd();return a};n.prototype.Ni=function(){var a,b,c,d,f,g,e,k,p=this.type,h=p.W(),q=this.hb.fc&&!this.trigger;b=0;var n=p.Ob,m=p.H,s=p.uc,w=this.tb,z=-1<w,u=this.Ie,C=this.A,A=this.P,D=this.ci,L=this.xa,B;if(u)for(b=0,f=C.length;b<f;++b)g=C[b],g.Fb||(A[b]=g.get(0));
else for(b=0,f=C.length;b<f;++b)A[b]=C[b].get(0);if(h.da){h.c.length=0;h.K.length=0;B=p.c;a=0;for(d=B.length;a<d;++a){k=B[a];if(u)for(b=0,f=C.length;b<f;++b)g=C[b],g.Fb&&(A[b]=g.get(a));z?(b=0,m&&(b=k.type.be[s]),b=L.apply(k.u[w+b],A)):b=L.apply(k,A);(e=Ka(b,D))?h.c.push(k):q&&h.K.push(k)}p.finish&&p.finish(!0);h.da=!1;p.pd();return h.Zj()}c=0;B=(e=q&&!this.hb.wo(this))?h.K:h.c;var M=!1;a=0;for(d=B.length;a<d;++a){k=B[a];if(u)for(b=0,f=C.length;b<f;++b)g=C[b],g.Fb&&(A[b]=g.get(a));z?(b=0,m&&(b=k.type.be[s]),
b=L.apply(k.u[w+b],A)):b=L.apply(k,A);if(Ka(b,D))if(M=!0,e){if(h.c.push(k),n)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.W().c.push(g)}else{B[c]=k;if(n)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.W().c[c]=g;c++}else if(e){B[c]=k;if(n)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.W().K[c]=g;c++}else if(q&&(h.K.push(k),n))for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.W().K.push(g)}B.length=c;if(n)for(m=p.Ua,a=0,d=m.length;a<d;a++)k=m[a].W(),e?
k.K.length=c:k.c.length=c;c=M;if(e&&!M)for(a=0,d=h.c.length;a<d;a++){k=h.c[a];if(u)for(b=0,f=C.length;b<f;b++)g=C[b],g.Fb&&(A[b]=g.get(a));b=z?L.apply(k.u[w],A):L.apply(k,A);if(Ka(b,D)){M=!0;break}}p.finish&&p.finish(c||q);return q?M:h.Zj()};Ib=n;p.prototype.Z=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Z(),c.Fb&&(this.Ie=!0)};p.prototype.Oi=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.P[a]=this.A[a].get();return this.xa.apply(this.b.kc,this.P)};p.prototype.Ni=function(){var a=
this.type.W().$b(),b=this.type.H,c=this.type.uc,f=this.tb,g=-1<f,e=this.Ie,k=this.A,p=this.P,h=this.xa,q,n,m,s,w,z;if(e)for(n=0,s=k.length;n<s;++n)w=k[n],w.Fb||(p[n]=w.get(0));else for(n=0,s=k.length;n<s;++n)p[n]=k[n].get(0);q=0;for(m=a.length;q<m;++q){z=a[q];if(e)for(n=0,s=k.length;n<s;++n)w=k[n],w.Fb&&(p[n]=w.get(q));g?(n=0,b&&(n=z.type.be[c]),h.apply(z.u[f+n],p)):h.apply(z,p)}return!1};Jb=p;var w=[],z=-1;g.prototype.Z=function(){var a,b;if(11===this.type)this.wd=this.b.Tj(this.Jf,this.hb.parent);
else if(13===this.type)for(a=0,b=this.Qd.length;a<b;a++)this.Qd[a].Z();this.Zb&&this.Zb.Z()};g.prototype.Fo=function(a){this.Fb||!a||a.Ma.Ug||(this.Fb=!0)};g.prototype.tl=function(){this.Fb=!0};g.prototype.na=function(){z++;w.length===z&&w.push(new Nb);return w[z]};g.prototype.ca=function(){z--};g.prototype.Yn=function(a){this.gd=a||0;a=this.na();this.Zb.get(a);this.ca();return a.data};g.prototype.Zn=function(a){this.gd=a||0;a=this.na();this.Zb.get(a);this.ca();return N(a.data)?a.data:""};g.prototype.fo=
function(){return this.object};g.prototype.Wn=function(){return this.Cj};g.prototype.co=function(a){this.gd=a||0;a=this.na();this.Zb.get(a);this.ca();return a.qa()?this.b.Mn(a.data):this.b.Ln(a.data)};g.prototype.eo=function(){return this.ja};g.prototype.bo=function(){return this.key};g.prototype.ao=function(){return this.index};g.prototype.$n=function(a){a=a||0;var b=this.k.type,c=null,c=b.W(),f=c.$b();if(f.length)c=f[a%f.length].type;else if(c.K.length)c=c.K[a%c.K.length].type;else if(b.c.length)c=
b.c[a%b.c.length].type;else return 0;return this.index+c.fg[b.uc]};g.prototype.Xn=function(){return this.wd};g.prototype.Vn=function(){return this.Oj};g.prototype.ho=function(){var a,b;a=0;for(b=this.Qd.length;a<b;a++)this.If[a]=this.Qd[a].get();return this.If};Kb=g;a.prototype.Z=function(){this.aa=b(this.aa)};a.prototype.ip=function(a){var b=this.b.Sj();this.parent&&!this.gf&&b?(this.Nd>=b.length&&(b.length=this.Nd+1),b[this.Nd]=a):this.data=a};a.prototype.Un=function(){var a=this.b.Sj();return!this.parent||
this.gf||!a||this.pg?this.data:this.Nd>=a.length||"undefined"===typeof a[this.Nd]?this.Zh:a[this.Nd]};a.prototype.oa=function(){!this.parent||this.gf||this.pg||this.ip(this.Zh)};Eb=a;k.prototype.toString=function(){return"include:"+this.bf.toString()};k.prototype.Z=function(){this.bf=this.b.Gh[this.no];this.sheet.bk.add(this);this.aa=b(this.aa);for(var a=this.parent;a;)a.group&&a.Dj.push(this),a=a.parent;this.sp()};k.prototype.oa=function(){this.parent&&this.b.wf(this.b.i);this.bf.Wh||this.bf.oa(!0);
this.parent&&this.b.ve(this.b.i)};k.prototype.sp=function(){for(var a=this.parent;a;){if(a.group&&!a.lg){this.gb=!1;return}a=a.parent}this.gb=!0};Mb=k;q.prototype.reset=function(a){this.Jb=a;this.sb=this.Pa=0;this.Dl.length=0;this.Eh=this.Jd=!1};Db=q})();
(function(){function m(b,e){this.k=b;this.b=b.b;this.type=e[0];this.get=[this.mn,this.hn,this.un,this.xn,this.an,this.vn,this.qn,this.dn,this.pn,this.tn,this.bn,this.sn,this.en,this.rn,this.nn,this.on,this.jn,this.kn,this.cn,this.wn,this.Kj,this.ln,this.Kj,this.gn][this.type];var h=null;this.Qa=this.A=this.P=this.xa=this.$g=this.ua=this.first=this.value=null;this.tb=-1;this.wc=null;this.mj=-1;this.wd=this.Jf=null;this.xf=!1;switch(this.type){case 0:case 1:case 2:this.value=e[1];break;case 3:this.first=
new V(b,e[1]);break;case 18:this.first=new V(b,e[1]);this.ua=new V(b,e[2]);this.$g=new V(b,e[3]);break;case 19:this.xa=this.b.Lc(e[1]);this.xa!==Z.prototype.Uc.random&&this.xa!==Z.prototype.Uc.ym||this.k.tl();this.P=[];this.A=[];3===e.length?(h=e[2],this.P.length=h.length+1):this.P.length=1;break;case 20:this.Qa=this.b.i[e[1]];this.tb=-1;this.xa=this.b.Lc(e[2]);this.xf=e[3];Pb.Function&&this.xa===Pb.Function.prototype.Uc.Ep&&this.k.tl();this.wc=e[4]?new V(b,e[4]):null;this.P=[];this.A=[];6===e.length?
(h=e[5],this.P.length=h.length+1):this.P.length=1;break;case 21:this.Qa=this.b.i[e[1]];this.xf=e[2];this.wc=e[3]?new V(b,e[3]):null;this.mj=e[4];break;case 22:this.Qa=this.b.i[e[1]];this.Qa.ig(e[2]);this.tb=this.Qa.Ph(e[2]);this.xa=this.b.Lc(e[3]);this.xf=e[4];this.wc=e[5]?new V(b,e[5]):null;this.P=[];this.A=[];7===e.length?(h=e[6],this.P.length=h.length+1):this.P.length=1;break;case 23:this.Jf=e[1],this.wd=null}this.k.Fo(this.Qa);4<=this.type&&17>=this.type&&(this.first=new V(b,e[1]),this.ua=new V(b,
e[2]));if(h){var c,m;c=0;for(m=h.length;c<m;c++)this.A.push(new V(b,h[c]))}}function h(b,e){this.type=b||W.Ud;this.data=e||0;this.qe=null;this.type==W.Ud&&(this.data=Math.floor(this.data))}m.prototype.Z=function(){23===this.type&&(this.wd=this.k.b.Tj(this.Jf,this.k.hb.parent));this.first&&this.first.Z();this.ua&&this.ua.Z();this.$g&&this.$g.Z();this.wc&&this.wc.Z();if(this.A){var b,e;b=0;for(e=this.A.length;b<e;b++)this.A[b].Z()}};m.prototype.wn=function(b){this.P[0]=b;b=this.k.na();var e,h;e=0;for(h=
this.A.length;e<h;e++)this.A[e].get(b),this.P[e+1]=b.data;this.k.ca();this.xa.apply(this.b.kc,this.P)};m.prototype.Kj=function(b){var e=this.Qa.W(),h=e.$b();if(!h.length)if(e.K.length)h=e.K;else{this.xf?b.ob(""):b.Q(0);return}this.P[0]=b;b.qe=this.Qa;b=this.k.na();var c,e=0;for(c=this.A.length;e<c;e++)this.A[e].get(b),this.P[e+1]=b.data;e=this.k.gd;this.wc&&(this.wc.get(b),b.qa()&&(e=b.data,h=this.Qa.c));this.k.ca();e%=h.length;0>e&&(e+=h.length);h=h[e];-1<this.tb?(b=0,this.Qa.H&&(b=h.type.be[this.Qa.uc]),
this.xa.apply(h.u[this.tb+b],this.P)):this.xa.apply(h,this.P)};m.prototype.ln=function(b){var e=this.Qa.W(),h=e.$b();if(!h.length)if(e.K.length)h=e.K;else{this.xf?b.ob(""):b.Q(0);return}e=this.k.gd;if(this.wc){var c=this.k.na();this.wc.get(c);if(c.qa()){e=c.data;h=this.Qa.c;e%=h.length;0>e&&(e+=h.length);h=h[e].ia[this.mj];N(h)?b.ob(h):b.C(h);this.k.ca();return}this.k.ca()}e%=h.length;0>e&&(e+=h.length);h=h[e];e=0;this.Qa.H&&(e=h.type.fg[this.Qa.uc]);h=h.ia[this.mj+e];N(h)?b.ob(h):b.C(h)};m.prototype.mn=
function(b){b.type=W.Ud;b.data=this.value};m.prototype.hn=function(b){b.type=W.Td;b.data=this.value};m.prototype.un=function(b){b.type=W.String;b.data=this.value};m.prototype.xn=function(b){this.first.get(b);b.qa()&&(b.data=-b.data)};m.prototype.an=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&(b.data+=e.data,e.ie()&&b.pe());this.k.ca()};m.prototype.vn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&(b.data-=e.data,e.ie()&&b.pe());this.k.ca()};
m.prototype.qn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&(b.data*=e.data,e.ie()&&b.pe());this.k.ca()};m.prototype.dn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&(b.data/=e.data,b.pe());this.k.ca()};m.prototype.pn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&(b.data%=e.data,e.ie()&&b.pe());this.k.ca()};m.prototype.tn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&
(b.data=Math.pow(b.data,e.data),e.ie()&&b.pe());this.k.ca()};m.prototype.bn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()?e.rg()?b.ob(b.data.toString()+e.data):b.data&&e.data?b.Q(1):b.Q(0):b.rg()&&(b.data=e.rg()?b.data+e.data:b.data+(Math.round(1E10*e.data)/1E10).toString());this.k.ca()};m.prototype.sn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.qa()&&e.qa()&&(b.data||e.data?b.Q(1):b.Q(0));this.k.ca()};m.prototype.cn=function(b){this.first.get(b);b.data?
this.ua.get(b):this.$g.get(b)};m.prototype.en=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.Q(b.data===e.data?1:0);this.k.ca()};m.prototype.rn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.Q(b.data!==e.data?1:0);this.k.ca()};m.prototype.nn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.Q(b.data<e.data?1:0);this.k.ca()};m.prototype.on=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.Q(b.data<=e.data?1:0);this.k.ca()};m.prototype.jn=
function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.Q(b.data>e.data?1:0);this.k.ca()};m.prototype.kn=function(b){this.first.get(b);var e=this.k.na();this.ua.get(e);b.Q(b.data>=e.data?1:0);this.k.ca()};m.prototype.gn=function(b){var e=this.wd.Un();fa(e)?b.C(e):b.ob(e)};V=m;h.prototype.ie=function(){return this.type===W.Td};h.prototype.qa=function(){return this.type===W.Ud||this.type===W.Td};h.prototype.rg=function(){return this.type===W.String};h.prototype.pe=function(){this.ie()||(this.rg()&&
(this.data=parseFloat(this.data)),this.type=W.Td)};h.prototype.Q=function(b){this.type=W.Ud;this.data=Math.floor(b)};h.prototype.C=function(b){this.type=W.Td;this.data=b};h.prototype.ob=function(b){this.type=W.String;this.data=b};h.prototype.jp=function(b){fa(b)?(this.type=W.Td,this.data=b):N(b)?(this.type=W.String,this.data=b.toString()):(this.type=W.Ud,this.data=0)};Nb=h;W={Ud:0,Td:1,String:2}})();function Z(m){this.b=m;this.cb=[]}
Z.prototype.Bb=function(){var m={},h,b,e,u,c,s,n,p;m.waits=[];var g=m.waits,a;h=0;for(b=this.cb.length;h<b;h++){s=this.cb[h];a={t:s.time,st:s.kp,s:s.zl,ev:s.Te.G,sm:[],sols:{}};s.Te.Gb[s.sb]&&(a.act=s.Te.Gb[s.sb].G);e=0;for(u=s.aa.length;e<u;e++)a.sm.push(s.aa[e].G);for(c in s.bb)if(s.bb.hasOwnProperty(c)){n=this.b.i[parseInt(c,10)];p={sa:s.bb[c].rl,insts:[]};e=0;for(u=s.bb[c].Bd.length;e<u;e++)p.insts.push(s.bb[c].Bd[e].uid);a.sols[n.G.toString()]=p}g.push(a)}return m};
Z.prototype.ec=function(m){m=m.waits;var h,b,e,u,c,s,n,p,g,a,k;h=this.cb.length=0;for(b=m.length;h<b;h++)if(s=m[h],p=this.b.vj[s.ev.toString()]){g=-1;e=0;for(u=p.Gb.length;e<u;e++)if(p.Gb[e].G===s.act){g=e;break}if(-1!==g){n={bb:{},aa:[],Gj:!1};n.time=s.t;n.kp=s.st||"";n.zl=!!s.s;n.Te=p;n.sb=g;e=0;for(u=s.sm.length;e<u;e++)(p=this.b.kg(s.sm[e]))&&n.aa.push(p);for(c in s.sols)if(s.sols.hasOwnProperty(c)&&(p=this.b.kg(parseInt(c,10)))){g=s.sols[c];a={rl:g.sa,Bd:[]};e=0;for(u=g.insts.length;e<u;e++)(k=
this.b.Xj(g.insts[e]))&&a.Bd.push(k);n.bb[p.index.toString()]=a}this.cb.push(n)}}};
(function(){function m(){}function h(){}var b=Z.prototype;m.prototype.lm=function(){return!0};m.prototype.km=function(){return!0};m.prototype.$l=function(){var b=this.b.Wa();return b.Eh?!1:!b.Jd};m.prototype.pj=function(){return!0};m.prototype.hm=function(){return!0};m.prototype.jh=function(){return!0};m.prototype.mm=function(){return!0};m.prototype.ih=function(){return!0};m.prototype.Wl=function(b,e,h){return Ha(S(b),S(h))<=S(e)};m.prototype.cm=function(b,e){return U(S(b),S(e))};m.prototype.am=function(b,
e,h){b=Fa(b);e=Fa(e);h=Fa(h);return U(h,e)?U(b,e)&&!U(b,h):!(!U(b,e)&&U(b,h))};b.S=new m;var e=[],u=[];b.ld=new function(){};h.prototype["int"]=function(b,e){N(e)?(b.Q(parseInt(e,10)),isNaN(b.data)&&(b.data=0)):b.Q(e)};h.prototype["float"]=function(b,e){N(e)?(b.C(parseFloat(e)),isNaN(b.data)&&(b.data=0)):b.C(e)};h.prototype.random=function(b,e,h){void 0===h?b.C(Math.random()*e):b.C(Math.random()*(h-e)+e)};h.prototype.sqrt=function(b,e){b.C(Math.sqrt(e))};h.prototype.abs=function(b,e){b.C(Math.abs(e))};
h.prototype.round=function(b,e){b.Q(Math.round(e))};h.prototype.floor=function(b,e){b.Q(Math.floor(e))};h.prototype.ceil=function(b,e){b.Q(Math.ceil(e))};h.prototype.sin=function(b,e){b.C(Math.sin(S(e)))};h.prototype.cos=function(b,e){b.C(Math.cos(S(e)))};h.prototype.tan=function(b,e){b.C(Math.tan(S(e)))};h.prototype.asin=function(b,e){b.C(Ca(Math.asin(e)))};h.prototype.acos=function(b,e){b.C(Ca(Math.acos(e)))};h.prototype.atan=function(b,e){b.C(Ca(Math.atan(e)))};h.prototype.exp=function(b,e){b.C(Math.exp(e))};
h.prototype.log10=function(b,e){b.C(Math.log(e)/Math.LN10)};h.prototype.max=function(b){var e=arguments[1];"number"!==typeof e&&(e=0);var h,p,g;h=2;for(p=arguments.length;h<p;h++)g=arguments[h],"number"===typeof g&&e<g&&(e=g);b.C(e)};h.prototype.min=function(b){var e=arguments[1];"number"!==typeof e&&(e=0);var h,p,g;h=2;for(p=arguments.length;h<p;h++)g=arguments[h],"number"===typeof g&&e>g&&(e=g);b.C(e)};h.prototype.ae=function(b){b.C(this.b.ae)};h.prototype.De=function(b){b.C(this.b.De)};h.prototype.time=
function(b){b.C(this.b.Gd.Ba)};h.prototype.Gf=function(b){b.Q(this.b.Gf)};h.prototype.Kg=function(b){b.Q(this.b.Kg)};h.prototype.Lh=function(b){b.Q(this.b.Lh)};h.prototype.d=function(b,e,h,p,g){b.C(Ca(Ga(e,h,p,g)))};h.prototype.find=function(b,e,h){N(e)&&N(h)?b.Q(e.search(new RegExp(Ta(h),"i"))):b.Q(-1)};h.prototype.left=function(b,e,h){b.ob(N(e)?e.substr(0,h):"")};h.prototype.right=function(b,e,h){b.ob(N(e)?e.substr(e.length-h):"")};h.prototype.replace=function(b,e,h,p){N(e)&&N(h)&&N(p)?b.ob(e.replace(new RegExp(Ta(h),
"gi"),p)):b.ob(N(e)?e:"")};h.prototype.trim=function(b,e){b.ob(N(e)?e.trim():"")};h.prototype.ym=function(b){var e=Q(Math.random()*(arguments.length-1));b.jp(arguments[e+1])};h.prototype.yh=function(b){b.C(this.b.yh/1E3)};h.prototype.Dg=function(b){b.C(this.b.Dg)};b.Uc=new h;b.bp=function(){var b,h,n,p,g,a,k=this.b.Wa();b=0;for(n=this.cb.length;b<n;b++){p=this.cb[b];if(-1===p.time){if(!p.zl)continue}else if(p.time>this.b.Gd.Ba)continue;k.Jb=p.Te;k.sb=p.sb;k.Pa=0;for(h in p.bb)p.bb.hasOwnProperty(h)&&
(g=this.b.i[parseInt(h,10)].W(),a=p.bb[h],g.da=a.rl,ya(g.c,a.Bd),g=a,g.Bd.length=0,u.push(g));p.Te.$o();this.b.xh(p.aa);p.Gj=!0}h=b=0;for(n=this.cb.length;b<n;b++)p=this.cb[b],this.cb[h]=p,p.Gj?(Ma(p.bb),p.aa.length=0,e.push(p)):h++;this.cb.length=h}})();
(function(){cb=function(h,b){var e=h[1],m=h[3],c=h[4],s=h[5],n=h[6],p=h[7],g=h[8];b.S||(b.S={});b.ld||(b.ld={});b.Uc||(b.Uc={});var a=b.S,k=b.ld,q=b.Uc;m&&(a.Jp=function(a,b){return Ob(this.x,a,b)},a.Kp=function(a,b){return Ob(this.y,a,b)},a.Rp=function(){var a=this.g;this.ea();var b=this.ha;return!(b.right<a.fa||b.bottom<a.ga||b.left>a.wa||b.top>a.va)},a.Sp=function(){this.ea();var a=this.ha,b=this.b.T;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.dq=function(a,b,c){var g=this.W(),
e=g.$b();if(!e.length)return!1;var k=e[0],d=k,h=Ja(k.x,k.y,b,c),p,q,n;p=1;for(q=e.length;p<q;p++)if(k=e[p],n=Ja(k.x,k.y,b,c),0===a&&n<h||1===a&&n>h)h=n,d=k;g.uf(d);return!0},k.zq=function(a){this.x!==a&&(this.x=a,this.L())},k.Aq=function(a){this.y!==a&&(this.y=a,this.L())},k.tq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.L()},k.uq=function(a,b){var c=a.On(this);if(c){var g;c.Th?(g=c.Th(b,!0),c=c.Th(b,!1)):(g=c.x,c=c.y);if(this.x!==g||this.y!==c)this.x=g,this.y=c,this.L()}},k.Xp=
function(a){0!==a&&(this.x+=Math.cos(this.d)*a,this.y+=Math.sin(this.d)*a,this.L())},k.Wp=function(a,b){0!==b&&(this.x+=Math.cos(S(a))*b,this.y+=Math.sin(S(a))*b,this.L())},q.Fq=function(a){a.C(this.x)},q.Gq=function(a){a.C(this.y)},q.ae=function(a){a.C(this.b.Qh(this))});c&&(a.Ip=function(a,b){return Ob(this.width,a,b)},a.Fp=function(a,b){return Ob(this.height,a,b)},k.yq=function(a){this.width!==a&&(this.width=a,this.L())},k.qq=function(a){this.height!==a&&(this.height=a,this.L())},k.vq=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.L()},q.Eq=function(a){a.C(this.width)},q.Np=function(a){a.C(this.height)},q.Bp=function(a){this.ea();a.C(this.ha.left)},q.Dp=function(a){this.ea();a.C(this.ha.top)},q.Cp=function(a){this.ea();a.C(this.ha.right)},q.Ap=function(a){this.ea();a.C(this.ha.bottom)});s&&(a.Wl=function(a,b){return Ha(this.d,S(b))<=S(a)},a.cm=function(a){return U(this.d,S(a))},a.am=function(a,b){var c=Fa(a),g=Fa(b),e=T(this.d);return U(g,c)?U(e,c)&&!U(e,
g):!(!U(e,c)&&U(e,g))},k.mq=function(a){a=S(Da(a));isNaN(a)||this.d===a||(this.d=a,this.L())},k.iq=function(a){0===a||isNaN(a)||(this.d+=S(a),this.d=T(this.d),this.L())},k.jq=function(a){0===a||isNaN(a)||(this.d-=S(a),this.d=T(this.d),this.L())},k.kq=function(a,b){var c=Ia(this.d,S(b),S(a));isNaN(c)||this.d===c||(this.d=c,this.L())},k.lq=function(a,b,c){a=Ia(this.d,Math.atan2(c-this.y,b-this.x),S(a));isNaN(a)||this.d===a||(this.d=a,this.L())},k.wq=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.d===c||(this.d=c,this.L())},q.zp=function(a){a.C(Ea(this.d))});e||(a.Gp=function(a,b,c){return Ob(this.ia[a],b,c)},a.Pp=function(a){return this.ia[a]},a.fq=function(a,b){var c=this.W(),g=c.$b();if(!g.length)return!1;var e=g[0],k=e,d=e.ia[b],h,p,q;h=1;for(p=g.length;h<p;h++)if(e=g[h],q=e.ia[b],0===a&&q<d||1===a&&q>d)d=q,k=e;c.uf(k);return!0},a.cq=function(a){var b,c,g,e,k;if(this.b.Gn().ci){k=this.W();if(k.da)for(k.da=!1,k.c.length=0,k.K.length=0,g=this.c,b=0,c=g.length;b<c;b++)e=g[b],
e.uid===a?k.K.push(e):k.c.push(e);else{g=b=0;for(c=k.c.length;b<c;b++)e=k.c[b],k.c[g]=e,e.uid===a?k.K.push(e):g++;k.c.length=g}this.pd();return!!k.c.length}e=this.b.Xj(a);if(!e)return!1;k=this.W();if(!k.da&&-1===k.c.indexOf(e))return!1;if(this.H)for(a=e.type.V,b=0,c=a.length;b<c;b++){if(a[b]===this)return k.uf(e),this.pd(),!0}else if(e.type===this)return k.uf(e),this.pd(),!0;return!1},a.im=function(){return!0},a.jm=function(){return!0},k.rq=function(a,b){var c=this.ia;fa(c[a])?c[a]=fa(b)?b:parseFloat(b):
N(c[a])&&(c[a]=N(b)?b:b.toString())},k.yp=function(a,b){var c=this.ia;fa(c[a])?c[a]=fa(b)?c[a]+b:c[a]+parseFloat(b):N(c[a])&&(c[a]=N(b)?c[a]+b:c[a]+b.toString())},k.Bq=function(a,b){var c=this.ia;fa(c[a])&&(c[a]=fa(b)?c[a]-b:c[a]-parseFloat(b))},k.nq=function(a,b){this.ia[a]=b?1:0},k.Cq=function(a){this.ia[a]=1-this.ia[a]},k.Mp=function(){this.b.Sd(this)},k.em||(k.em=function(a){var b,c;try{b=JSON.parse(a)}catch(g){return}this.b.Bg(this,b,!0);this.md&&this.md();if(this.u)for(a=0,b=this.u.length;a<
b;++a)c=this.u[a],c.md&&c.md()}),q.Lp=function(a){var b=a.qe.c.length,c,g,e;c=0;for(g=this.b.Ib.length;c<g;c++)e=this.b.Ib[c],a.qe.H?0<=e.type.V.indexOf(a.qe)&&b++:e.type===a.qe&&b++;a.Q(b)},q.hq=function(a){a.Q(a.qe.W().$b().length)},q.Dq=function(a){a.Q(this.uid)},q.Op=function(a){a.Q(this.Ye())},q.Xl||(q.Xl=function(a){a.ob(JSON.stringify(this.b.Pi(this,!0)))}));n&&(a.Tp=function(){return this.visible},k.xq=function(a){!a!==!this.visible&&(this.visible=a,this.b.R=!0)},a.Hp=function(a,b){return Ob(Za(100*
this.opacity),a,b)},k.sq=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.R=!0)},q.Opacity=function(a){a.C(Za(100*this.opacity))});p&&(a.Qp=function(a){return a?this.g===a:!1},a.gq=function(a){var b=this.W(),c=b.$b();if(!c.length)return!1;var g=c[0],e=g,k,d;k=1;for(d=c.length;k<d;k++)if(g=c[k],0===a){if(g.g.index>e.g.index||g.g.index===e.g.index&&g.ac()>e.ac())e=g}else if(g.g.index<e.g.index||g.g.index===e.g.index&&g.ac()<e.ac())e=g;b.uf(e);return!0},k.$p=function(){var a=
this.g,b=a.c;b.length&&b[b.length-1]===this||(a.we(this,!1),a.Ke(this,!1),this.b.R=!0)},k.Yp=function(){var a=this.g,b=a.c;b.length&&b[0]===this||(a.we(this,!1),a.To(this),this.b.R=!0)},k.Zp=function(a){a&&a!=this.g&&(this.g.we(this,!0),this.g=a,a.Ke(this,!0),this.b.R=!0)},k.Iq=function(a,b){var c=0===a;if(b){var g=b.Hn(this);g&&g.uid!==this.uid&&(this.g.index!==g.g.index&&(this.g.we(this,!0),this.g=g.g,g.g.Ke(this,!0)),this.g.Go(this,g,c),this.b.R=!0)}},q.Vp=function(a){a.Q(this.g.Uk)},q.Up=function(a){a.ob(this.g.name)},
q.Hq=function(a){a.Q(this.ac())});g&&(k.oq=function(a,b){if(this.b.p){var c=this.type.Sh(b);if(!(0>c)){var g=1===a;this.Mc[c]!==g&&(this.Mc[c]=g,this.Hc(),this.b.R=!0)}}},k.pq=function(a,b,c){if(this.b.p){var g=this.type.Sh(a);0>g||(a=this.type.q[g],g=this.Y[g],b=Math.floor(b),0>b||b>=g.length||(1===this.b.p.Rn(a.Aa,b)&&(c/=100),g[b]!==c&&(g[b]=c,a.gb&&(this.b.R=!0))))}})};vb=function(){this.rh=this.oh=!0;this.type.Mf=!0;this.b.R=!0;var h,b,e=this.ph;h=0;for(b=e.length;h<b;++h)e[h](this);this.g.Ub&&
this.ea()};wb=function(h){h&&this.ph.push(h)};yb=function(){if(this.oh){var h=this.ha,b=this.ub;h.set(this.x,this.y,this.x+this.width,this.y+this.height);h.offset(-this.Ya*this.width,-this.Za*this.height);this.d?(h.offset(-this.x,-this.y),b.wl(h,this.d),b.offset(this.x,this.y),b.wj(h)):b.Af(h);h.normalize();this.oh=!1;this.up()}};var m=new R(0,0,0,0);zb=function(){if(this.g.Ub){var h=this.g.ab,b=this.ha;m.set(h.eb(b.left),h.fb(b.top),h.eb(b.right),h.fb(b.bottom));this.Ra.cg(m)||(this.Ra.right<this.Ra.left?
h.update(this,null,m):h.update(this,this.Ra,m),this.Ra.Wf(m),this.g.Cc=!0)}};Ab=function(){if(this.rh&&this.pc){this.ea();var h=this.type.Vf,b=this.ha;m.set(h.eb(b.left),h.fb(b.top),h.eb(b.right),h.fb(b.bottom));this.Rc.cg(m)||(this.Rc.right<this.Rc.left?h.update(this,null,m):h.update(this,this.Rc,m),this.Rc.Wf(m),this.rh=!1)}};xb=function(h,b){return this.ha.Va(h,b)&&this.ub.Va(h,b)?this.J&&!this.J.he()?(this.J.Yd(this.width,this.height,this.d),this.J.Va(h-this.x,b-this.y)):!0:!1};rb=function(){this.type.fh();
return this.zd};Bb=function(){this.g.kj();return this.Vb};Cb=function(){this.I.length=0;var h,b;h=0;for(b=this.Mc.length;h<b;h++)this.Mc[h]&&this.I.push(this.type.q[h]);this.Ul=!!this.I.length};sb=function(){return"Inst"+this.kl};fb=function(h){if(h&&h.Ob&&h.type!=this){var b,e,m;b=0;for(e=h.siblings.length;b<e;b++)if(m=h.siblings[b],m.type==this)return m}h=this.W().$b();return h.length?h[0]:null};gb=function(h){var b=this.W().$b();return b.length?b[h.Ye()%b.length]:null};eb=function(){if(this.Be&&
!this.H){var h,b;h=0;for(b=this.c.length;h<b;h++)this.c[h].zd=h;var e=h,m=this.b.Ib;h=0;for(b=m.length;h<b;++h)m[h].type===this&&(m[h].zd=e++);this.Be=!1}};pb=function(h){if(h<this.c.length)return this.c[h];h-=this.c.length;var b=this.b.Ib,e,m;e=0;for(m=b.length;e<m;++e)if(b[e].type===this){if(0===h)return b[e];--h}return null};hb=function(){return this.hd[this.rc]};ib=function(){this.rc++;this.rc===this.hd.length?this.hd.push(new db(this)):this.hd[this.rc].da=!0};jb=function(){this.rc++;this.rc===
this.hd.length&&this.hd.push(new db(this));var h=this.hd[this.rc],b=this.hd[this.rc-1];b.da?h.da=!0:(h.da=!1,ya(h.c,b.c),ya(h.K,b.K))};kb=function(){this.rc--};lb=function(h){var b,e,m,c,s,n=0;if(!this.H)for(b=0,e=this.V.length;b<e;b++)for(s=this.V[b],m=0,c=s.ba.length;m<c;m++){if(h===s.ba[m].name)return this.U.lastBehIndex=n,s.ba[m];n++}b=0;for(e=this.ba.length;b<e;b++){if(h===this.ba[b].name)return this.U.lastBehIndex=n,this.ba[b];n++}return null};mb=function(h){return this.ig(h)?this.U.lastBehIndex:
-1};nb=function(h){var b,e;b=0;for(e=this.q.length;b<e;b++)if(this.q[b].name===h)return b;return-1};ob=function(){if(this.Ob&&!this.H){var h,b,e,m,c,s,n;this.fh();s=this.W();var p=s.da,g=(h=this.b.Wa())&&h.Jb&&h.Jb.fc;h=0;for(b=this.Ua.length;h<b;h++)if(c=this.Ua[h],c!==this&&(c.fh(),n=c.W(),n.da=p,!p)){n.c.length=s.c.length;e=0;for(m=s.c.length;e<m;e++)n.c[e]=c.Uj(s.c[e].zd);if(g)for(n.K.length=s.K.length,e=0,m=s.K.length;e<m;e++)n.K[e]=c.Uj(s.K[e].zd)}}};qb=function(){return"Type"+this.G};Ob=function(h,
b,e){if("undefined"===typeof h||"undefined"===typeof e)return!1;switch(b){case 0:return h===e;case 1:return h!==e;case 2:return h<e;case 3:return h<=e;case 4:return h>e;case 5:return h>=e;default:return!1}}})();var Wb={};function Xb(m){this.b=m}
(function(){function m(){if(0===this.Bh.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.Ae?c.drawImage(this.Sa,this.re,this.te,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.Sa,0,0,this.width,this.height);this.Bh=b.toDataURL("image/png")}return this.Bh}function h(){}var b=Xb.prototype;b.mc=function(b){this.Ma=b;this.b=b.b};var e=b.mc.prototype;e.ya=function(){if(!this.H){var b,c,a,e,h,f,n,s,l;this.Hb=[];this.$e=
!1;b=0;for(c=this.Ta.length;b<c;b++){h=this.Ta[b];n={};n.name=h[0];n.speed=h[1];n.loop=h[2];n.Ki=h[3];n.Qg=h[4];n.dl=h[5];n.G=h[6];n.frames=[];a=0;for(e=h[7].length;a<e;a++)f=h[7][a],s={},s.Fl=f[0],s.Gl=f[1],s.re=f[2],s.te=f[3],s.width=f[4],s.height=f[5],s.duration=f[6],s.Ya=f[7],s.Za=f[8],s.Yh=f[9],s.Lg=f[10],s.el=f[11],s.Ae=0!==s.width,s.Bh="",s.Mq=m,l={left:0,top:0,right:1,bottom:1},s.Wi=l,s.Jc=null,(l=this.b.An(f[0]))?s.Sa=l:(s.Sa=new Image,s.Sa.Bm=f[0],s.Sa.Am=f[1],s.Sa.vm=null,this.b.xp(s.Sa,
f[0])),n.frames.push(s),this.Hb.push(s);this.Ta[b]=n}}};e.Rl=function(){var b,c,a;b=0;for(c=this.c.length;b<c;b++)a=this.c[b],a.Zf=a.wb.Jc};e.Zk=function(){if(!this.H){var b,c,a;b=0;for(c=this.Hb.length;b<c;++b)a=this.Hb[b],a.Sa.vm=null,a.Jc=null;this.$e=!1;this.Rl()}};e.$k=function(){if(!this.H&&this.c.length){var b,c,a;b=0;for(c=this.Hb.length;b<c;++b)a=this.Hb[b],a.Jc=this.b.p.xk(a.Sa,this.b.N,a.el);this.Rl()}};e.Co=function(){if(!this.H&&!this.$e&&this.b.p){var b,c,a;b=0;for(c=this.Hb.length;b<
c;++b)a=this.Hb[b],a.Jc=this.b.p.xk(a.Sa,this.b.N,a.el);this.$e=!0}};e.Ol=function(){if(!this.H&&!this.c.length&&this.$e){var b,c,a;b=0;for(c=this.Hb.length;b<c;++b)a=this.Hb[b],this.b.p.deleteTexture(a.Jc),a.Jc=null;this.$e=!1}};var u=[];e.hl=function(b){var c,a,e;c=u.length=0;for(a=this.Hb.length;c<a;++c)e=this.Hb[c].Sa,-1===u.indexOf(e)&&(b.drawImage(e,0,0),u.push(e))};b.rb=function(b){this.type=b;this.b=b.b;b=this.type.Ta[0].frames[0].Lg;this.hc?this.J.Bf(b):this.J=new Ua(b)};var c=b.rb.prototype;
c.ya=function(){this.visible=0===this.ta[0];this.pc=0!==this.ta[3];1===this.type.Ta.length&&1===this.type.Ta[0].frames.length||0===this.type.Ta[0].speed||this.b.op(this);this.X=this.Rj(this.ta[1])||this.type.Ta[0];this.j=this.ta[2];0>this.j&&(this.j=0);this.j>=this.X.frames.length&&(this.j=this.X.frames.length-1);var b=this.X.frames[this.j];this.J.Bf(b.Lg);this.Ya=b.Ya;this.Za=b.Za;this.Qe=this.X.speed;this.hc?this.Wb.reset():this.Wb=new Sa;this.vc=this.Wb.Ba;this.od=!0;this.nc=0;this.nd=!0;this.vh=
this.sj="";this.xm=0;this.uh=-1;this.type.Co();var c,a,e,h,f,n,m,b=0;for(c=this.type.Ta.length;b<c;b++)for(h=this.type.Ta[b],a=0,e=h.frames.length;a<e;a++)f=h.frames[a],0===f.width&&(f.width=f.Sa.width,f.height=f.Sa.height),f.Ae&&(m=f.Sa,n=f.Wi,n.left=f.re/m.width,n.top=f.te/m.height,n.right=(f.re+f.width)/m.width,n.bottom=(f.te+f.height)/m.height,0===f.re&&0===f.te&&f.width===m.width&&f.height===m.height&&(f.Ae=!1));this.wb=this.X.frames[this.j];this.Zf=this.wb.Jc};c.Bb=function(){var b={a:this.X.G,
f:this.j,cas:this.Qe,fs:this.vc,ar:this.nc,at:this.Wb.Ba};this.od||(b.ap=this.od);this.nd||(b.af=this.nd);return b};c.ec=function(b){var c=this.Dn(b.a);c&&(this.X=c);this.j=b.f;0>this.j&&(this.j=0);this.j>=this.X.frames.length&&(this.j=this.X.frames.length-1);this.Qe=b.cas;this.vc=b.fs;this.nc=b.ar;this.Wb.reset();this.Wb.Ba=b.at;this.od=b.hasOwnProperty("ap")?b.ap:!0;this.nd=b.hasOwnProperty("af")?b.af:!0;this.wb=this.X.frames[this.j];this.Zf=this.wb.Jc;this.J.Bf(this.wb.Lg);this.Ya=this.wb.Ya;this.Za=
this.wb.Za};c.nh=function(b){this.j=b?0:this.X.frames.length-1;this.od=!1;this.sj=this.X.name;this.b.trigger(Xb.prototype.S.gm,this);this.b.trigger(Xb.prototype.S.fm,this);this.nc=0};c.Nq=function(){return this.Wb.Ba};c.Ec=function(){this.Wb.add(this.b.Qh(this));this.vh.length&&this.Gm();0<=this.uh&&this.Hm();var b=this.Wb.Ba,c=this.X,a=c.frames[this.j],e=a.duration/this.Qe;this.od&&b>=this.vc+e&&(this.nd?this.j++:this.j--,this.vc+=e,this.j>=c.frames.length&&(c.dl?(this.nd=!1,this.j=c.frames.length-
2):c.loop?this.j=c.Qg:(this.nc++,this.nc>=c.Ki?this.nh(!1):this.j=c.Qg)),0>this.j&&(c.dl?(this.j=1,this.nd=!0,c.loop||(this.nc++,this.nc>=c.Ki&&this.nh(!0))):c.loop?this.j=c.Qg:(this.nc++,this.nc>=c.Ki?this.nh(!0):this.j=c.Qg)),0>this.j?this.j=0:this.j>=c.frames.length&&(this.j=c.frames.length-1),b>this.vc+c.frames[this.j].duration/this.Qe&&(this.vc=b),b=c.frames[this.j],this.Vd(a,b),this.b.R=!0)};c.Rj=function(b){var c,a,e;c=0;for(a=this.type.Ta.length;c<a;c++)if(e=this.type.Ta[c],$a(e.name,b))return e;
return null};c.Dn=function(b){var c,a,e;c=0;for(a=this.type.Ta.length;c<a;c++)if(e=this.type.Ta[c],e.G===b)return e;return null};c.Gm=function(){var b=this.X.frames[this.j],c=this.Rj(this.vh);this.vh="";!c||$a(c.name,this.X.name)&&this.od||(this.X=c,this.Qe=c.speed,0>this.j&&(this.j=0),this.j>=this.X.frames.length&&(this.j=this.X.frames.length-1),1===this.xm&&(this.j=0),this.od=!0,this.vc=this.Wb.Ba,this.nd=!0,this.Vd(b,this.X.frames[this.j]),this.b.R=!0)};c.Hm=function(){var b=this.X.frames[this.j],
c=this.j;this.j=Q(this.uh);0>this.j&&(this.j=0);this.j>=this.X.frames.length&&(this.j=this.X.frames.length-1);c!==this.j&&(this.Vd(b,this.X.frames[this.j]),this.vc=this.Wb.Ba,this.b.R=!0);this.uh=-1};c.Vd=function(b,c){var a=b.width,e=b.height,h=c.width,f=c.height;a!=h&&(this.width*=h/a);e!=f&&(this.height*=f/e);this.Ya=c.Ya;this.Za=c.Za;this.J.Bf(c.Lg);this.L();this.wb=c;this.Zf=c.Jc;a=0;for(e=this.u.length;a<e;a++)h=this.u[a],h.Mo&&h.Mo(b,c);this.b.trigger(Xb.prototype.S.Vd,this)};c.ud=function(b){b.globalAlpha=
this.opacity;var c=this.wb,a=c.Ae,e=c.Sa,h=this.x,f=this.y,n=this.width,m=this.height;if(0===this.d&&0<=n&&0<=m)h-=this.Ya*n,f-=this.Za*m,this.b.ue&&(h=Math.round(h),f=Math.round(f)),a?b.drawImage(e,c.re,c.te,c.width,c.height,h,f,n,m):b.drawImage(e,h,f,n,m);else{this.b.ue&&(h=Math.round(h),f=Math.round(f));b.save();var l=0<n?1:-1,s=0<m?1:-1;b.translate(h,f);1===l&&1===s||b.scale(l,s);b.rotate(this.d*l*s);h=0-this.Ya*P(n);f=0-this.Za*P(m);a?b.drawImage(e,c.re,c.te,c.width,c.height,h,f,P(n),P(m)):b.drawImage(e,
h,f,P(n),P(m));b.restore()}};c.Yb=function(b){b.Cb(this.Zf);b.yf(this.opacity);var c=this.wb,a=this.ub;if(this.b.ue){var e=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;c.Ae?b.Pd(a.Ca+e,a.Da+h,a.pb+e,a.qb+h,a.kb+e,a.lb+h,a.ib+e,a.jb+h,c.Wi):b.Ng(a.Ca+e,a.Da+h,a.pb+e,a.qb+h,a.kb+e,a.lb+h,a.ib+e,a.jb+h)}else c.Ae?b.Pd(a.Ca,a.Da,a.pb,a.qb,a.kb,a.lb,a.ib,a.jb,c.Wi):b.Ng(a.Ca,a.Da,a.pb,a.qb,a.kb,a.lb,a.ib,a.jb)};c.Jn=function(b){var c=this.wb,a,e;a=0;for(e=c.Yh.length;a<e;a++)if($a(b,c.Yh[a][0]))return a;
return-1};c.Th=function(b,c){var a=this.wb,e=a.Yh,h;h=N(b)?this.Jn(b):b-1;h=Q(h);if(0>h||h>=e.length)return c?this.x:this.y;var f=(e[h][1]-a.Ya)*this.width,e=e[h][2],e=(e-a.Za)*this.height,a=Math.cos(this.d);h=Math.sin(this.d);var n=f*a-e*h,e=e*a+f*h,f=n+this.x,e=e+this.y;return c?f:e};var s=new E,n=!1;new R(0,0,0,0);e.finish=function(b){if(n){if(b){var c=this.b.Wa().Jb.fc;b=null.W();var a=s.Ic(),e,h;if(b.da){b.da=!1;b.c.length=a.length;e=0;for(h=a.length;e<h;e++)b.c[e]=a[e];if(c)for(e=b.K.length=
0,h=null.c.length;e<h;e++)a=null.c[e],s.contains(a)||b.K.push(a)}else if(c)for(c=b.c.length,b.c.length=c+a.length,e=0,h=a.length;e<h;e++)b.c[c+e]=a[e],Ba(b.K,a[e]);else ya(b.c,a);null.pd()}s.clear();n=!1}};h.prototype.fm=function(b){return $a(this.sj,b)};h.prototype.gm=function(){return!0};h.prototype.Vd=function(){return!0};b.S=new h;b.ld=new function(){};b.Uc=new function(){}})();function Yb(m){this.b=m}
(function(){var m=Yb.prototype;m.mc=function(b){this.behavior=b;this.b=b.b};m.mc.prototype.ya=function(){};m.rb=function(b,e){this.type=b;this.behavior=b.behavior;this.r=e;this.b=b.b;this.Zi=this.Yi=this.Xi=this.$i=this.Xh=this.Rg=this.zg=this.bg=this.gh=!1;this.n=0;this.Ha=this.Na=this.r.d};var h=m.rb.prototype;h.ya=function(){this.$c=this.ta[0];this.kh=this.ta[1];this.Se=this.ta[2];this.Xg=S(this.ta[3]);this.Dh=S(this.ta[4]);this.Mh=this.ta[5];this.Ti=1===this.ta[6];this.Em=1===this.ta[7];this.enabled=
0!==this.ta[8];this.vg=this.r.x;this.wg=this.r.y;this.le=this.r.d;this.Em&&!this.b.Ja&&(jQuery(document).keydown(function(b){return function(e){b.Ko(e)}}(this)),jQuery(document).keyup(function(b){return function(e){b.Lo(e)}}(this)))};h.Bb=function(){return{ignoreInput:this.Xh,enabled:this.enabled,s:this.n,a:this.Na,m:this.Ha,maxspeed:this.$c,acc:this.kh,dec:this.Se,steerSpeed:this.Xg,driftRecover:this.Dh,friction:this.Mh,lastx:this.vg,lasty:this.wg,lastAngle:this.le}};h.ec=function(b){this.Xh=b.ignoreInput;
this.enabled=b.enabled;this.n=b.s;this.Na=b.a;this.Ha=b.m;this.$c=b.maxspeed;this.kh=b.acc;this.Se=b.dec;this.Xg=b.steerSpeed;this.Dh=b.driftRecover;this.Mh=b.friction;this.vg=b.lastx;this.wg=b.lasty;this.le=b.lastAngle;this.Zi=this.Yi=this.Xi=this.$i=this.Rg=this.zg=this.bg=this.gh=!1};h.Ko=function(b){switch(b.which){case 37:b.preventDefault();this.zg=!0;break;case 38:b.preventDefault();this.gh=!0;break;case 39:b.preventDefault();this.Rg=!0;break;case 40:b.preventDefault(),this.bg=!0}};h.Lo=function(b){switch(b.which){case 37:b.preventDefault();
this.zg=!1;break;case 38:b.preventDefault();this.gh=!1;break;case 39:b.preventDefault();this.Rg=!1;break;case 40:b.preventDefault(),this.bg=!1}};h.Ec=function(){var b=this.b.Qh(this.r),e=this.zg||this.Yi,h=this.Rg||this.Zi,c=this.gh||this.$i,m=this.bg||this.Xi;this.Xi=this.$i=this.Zi=this.Yi=!1;if(this.enabled){this.Ti&&this.r.d!==this.le&&(this.le=this.Ha=this.Na=this.r.d);var n=this.b.Dc(this.r);if(n&&(this.b.ml(this.r,n),!this.b.Fi(this.r)))return;this.Xh&&(m=c=h=e=!1);c&&!m&&(this.n+=this.kh*
b,this.n>this.$c&&(this.n=this.$c));m&&!c&&(this.n-=this.Se*b,this.n<-this.$c&&(this.n=-this.$c));m===c&&(0<this.n?(this.n-=this.Se*b*.1,0>this.n&&(this.n=0)):0>this.n&&(this.n+=this.Se*b*.1,0<this.n&&(this.n=0)));0>this.n&&(c=e,e=h,h=c);e&&!h&&(this.Na=T(this.Na-this.Xg*b*(Math.abs(this.n)/this.$c)));h&&!e&&(this.Na=T(this.Na+this.Xg*b*(Math.abs(this.n)/this.$c)));e=this.Dh*b;h=Ha(this.Na,this.Ha);h>S(90)&&(e+=h-S(90));h<=e?this.Ha=T(this.Na):U(this.Na,this.Ha)?this.Ha=T(this.Ha+e):this.Ha=T(this.Ha-
e);this.vg=this.r.x;this.wg=this.r.y;if(0!==this.n&&0!==b){if(this.r.x+=Math.cos(this.Ha)*this.n*b,this.r.y+=Math.sin(this.Ha)*this.n*b,this.Ti&&(this.le=this.r.d=this.Na),this.r.L(),e=this.b.Dc(this.r))this.b.ml(this.r,e),this.n=Math.abs(this.n),this.Ha=this.b.wm(this.r,this.vg,this.wg),this.r.x+=Math.cos(this.Ha)*this.n*b,this.r.y+=Math.sin(this.Ha)*this.n*b,this.r.L(),this.n*=1-this.Mh,this.b.Yo(this.r,Math.cos(this.Ha),Math.sin(this.Ha),Math.max(2.5*this.n*b,30))||this.b.Fi(this.r,100)}else this.Ti&&
this.r.d!==this.Na&&(this.le=this.r.d=this.Na,this.r.L(),this.b.Dc(this.r)&&this.b.Fi(this.r,100))}};m.S=new function(){};m.ld=new function(){};m.Uc=new function(){}})();function Zb(m){this.b=m;this.Vi=this.Tg=this.Df=this.Ui=0}
(function(){var m=Zb.prototype;m.mc=function(b){this.behavior=b;this.b=b.b};m.mc.prototype.ya=function(){};m.rb=function(b,e){this.type=b;this.behavior=b.behavior;this.r=e;this.b=b.b};var h=m.rb.prototype;h.ya=function(){this.enabled=0!==this.ta[0]};h.Bb=function(){return{smg:this.behavior.Ui,ss:this.behavior.Df,se:this.behavior.Tg,smd:this.behavior.Vi}};h.ec=function(b){this.behavior.Ui=b.smg;this.behavior.Df=b.ss;this.behavior.Tg=b.se;this.behavior.Vi=b.smd};h.Ec=function(){};h.dj=function(){if(this.enabled){var b=
this.behavior.Ig.Ic(),e=0,h=0,c,m,n,p=0;c=0;for(m=b.length;c<m;c++){a:{n=b[c];for(var g=void 0,a=void 0,k=void 0,g=0,a=n.u.length;g<a;++g)if(k=n.u[g],k.behavior instanceof Zb){n=k;break a}n=null}n&&n.enabled&&(e+=b[c].x,h+=b[c].y,++p)}b=this.r.g.ja;m=this.b.Gd.Ba;n=c=0;m>=this.behavior.Df&&m<this.behavior.Tg&&(c=this.behavior.Ui*Math.min(this.b.De,1),0===this.behavior.Vi&&(c*=1-(m-this.behavior.Df)/(this.behavior.Tg-this.behavior.Df)),m=Math.random()*Math.PI*2,n=Math.random()*c,c=Math.cos(m)*n,n*=
Math.sin(m));b.Ri(e/p+c);b.Si(h/p+n)}};m.ld=new function(){}})();function $b(m){this.b=m}(function(){var m=$b.prototype;m.mc=function(b){this.behavior=b;this.b=b.b};m.mc.prototype.ya=function(){};m.rb=function(b,e){this.type=b;this.behavior=b.behavior;this.r=e;this.b=b.b};var h=m.rb.prototype;h.ya=function(){this.r.U.solidEnabled=0!==this.ta[0]};h.Ec=function(){};m.S=new function(){};m.ld=new function(){}})();
